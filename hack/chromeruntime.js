(function(){const l=chrome.runtime.sendMessage,m=new Proxy(l,{apply:function(o,t,i){const[e,a]=i;return(e==null?void 0:e.code)==="item_list"?Reflect.apply(o,t,[e,(...n)=>{console.debug("[SW Intercept] 捕获到 item_list 响应",n[0]);const p=new Date().toLocaleDateString("zh-CN",{timeZone:"Asia/Shanghai",year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"-"),d=n[0]||[],c=`zhixia_${p}`,y=JSON.parse(localStorage.getItem(c)||"[]")||[],g=new Map([...y,...d].map(r=>[r.itemId,{...r,timestamp:Date.now()}])),s=Array.from(g.values());return localStorage.setItem(c,JSON.stringify(s)),chrome.runtime.sendMessage({type:"STORAGE_UPDATE",payload:{key:"zhixiaDataLength",value:s.length}}),a==null?void 0:a.apply(t,n)}]):Reflect.apply(o,t,i)}});chrome.runtime.sendMessage=m})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hyb21lcnVudGltZS5qcyIsInNvdXJjZXMiOlsiLi4vaGFjay13b3Jrc3BhY2Uvc3JjL2Nocm9tZXJ1bnRpbWUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8g5Zyo5qih5Z2X5Yid5aeL5YyW6Zi25q615Yqr5oyBXG4oZnVuY3Rpb24gKCkge1xuICAvLyDkv53lrZjljp/lp4vmtojmga/lj5HpgIHlmahcbiAgY29uc3Qgb3JpZ2luYWxTZW5kZXIgPSBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZTtcblxuICAvLyDliJvlu7rmi6bmiKrkuK3pl7Tku7ZcbiAgY29uc3QgbWVzc2FnZVByb3h5ID0gbmV3IFByb3h5KG9yaWdpbmFsU2VuZGVyLCB7XG4gICAgYXBwbHk6IGZ1bmN0aW9uICh0YXJnZXQsIHRoaXNBcmcsIGFyZ3VtZW50c0xpc3QpIHtcbiAgICAgIGNvbnN0IFttZXNzYWdlLCBjYWxsYmFja10gPSBhcmd1bWVudHNMaXN0O1xuICAgICAgLy8g6YeN54K55oum5oiqIGl0ZW1fbGlzdCDor7fmsYJcbiAgICAgIGlmIChtZXNzYWdlPy5jb2RlID09PSBcIml0ZW1fbGlzdFwiKSB7XG4gICAgICAgIGNvbnN0IGhpamFja2VkQ2FsbGJhY2sgPSAoLi4uYXJnczogYW55W10pID0+IHtcbiAgICAgICAgICAvLyDosIPor5Xml6Xlv5fvvIjnlJ/kuqfnjq/looPpnIDnp7vpmaTvvIlcbiAgICAgICAgICBjb25zb2xlLmRlYnVnKFwiW1NXIEludGVyY2VwdF0g5o2V6I635YiwIGl0ZW1fbGlzdCDlk43lupRcIiwgYXJnc1swXSk7XG5cbiAgICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKClcbiAgICAgICAgICAgIC50b0xvY2FsZURhdGVTdHJpbmcoXCJ6aC1DTlwiLCB7XG4gICAgICAgICAgICAgIHRpbWVab25lOiBcIkFzaWEvU2hhbmdoYWlcIixcbiAgICAgICAgICAgICAgeWVhcjogXCJudW1lcmljXCIsXG4gICAgICAgICAgICAgIG1vbnRoOiBcIjItZGlnaXRcIixcbiAgICAgICAgICAgICAgZGF5OiBcIjItZGlnaXRcIixcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAucmVwbGFjZSgvXFwvL2csIFwiLVwiKTsgLy8g6L6T5Ye65qC85byP77yaeXl5eS1tbS1kZFxuXG4gICAgICAgICAgY29uc3QgbmV3RGF0YSA9IGFyZ3NbMF0gfHwgW107XG4gICAgICAgICAgY29uc3Qgc3RvcmFnZUtleSA9IGB6aGl4aWFfJHt0b2RheX1gO1xuICAgICAgICAgIGNvbnN0IHN0b3JlZERhdGEgPVxuICAgICAgICAgICAgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5KSB8fCBcIltdXCIpIHx8IFtdO1xuXG4gICAgICAgICAgLy8g5Yib5bu65pig5bCE6KGo5Y676YeN77yI5L+d55WZ5pyA5paw5pWw5o2u77yJXG4gICAgICAgICAgY29uc3QgaXRlbU1hcCA9IG5ldyBNYXAoXG4gICAgICAgICAgICBbLi4uc3RvcmVkRGF0YSwgLi4ubmV3RGF0YV0ubWFwKChpdGVtKSA9PiBbXG4gICAgICAgICAgICAgIGl0ZW0uaXRlbUlkLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksIC8vIOabtOaWsOacgOWQjuabtOaWsOaXtumXtFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSlcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgY29uc3QgbGlzdCA9IEFycmF5LmZyb20oaXRlbU1hcC52YWx1ZXMoKSk7XG5cbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShzdG9yYWdlS2V5LCBKU09OLnN0cmluZ2lmeShsaXN0KSk7XG5cbiAgICAgICAgICBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSh7XG4gICAgICAgICAgICB0eXBlOiBcIlNUT1JBR0VfVVBEQVRFXCIsXG4gICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgIGtleTogXCJ6aGl4aWFEYXRhTGVuZ3RoXCIsXG4gICAgICAgICAgICAgIHZhbHVlOiBsaXN0Lmxlbmd0aCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLy8g5omn6KGM5Y6f5aeL5Zue6LCDXG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrPy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gUmVmbGVjdC5hcHBseSh0YXJnZXQsIHRoaXNBcmcsIFttZXNzYWdlLCBoaWphY2tlZENhbGxiYWNrXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBSZWZsZWN0LmFwcGx5KHRhcmdldCwgdGhpc0FyZywgYXJndW1lbnRzTGlzdCk7XG4gICAgfSxcbiAgfSk7XG5cbiAgLy8g6YeN5YaZ6L+Q6KGM5pe25pa55rOVXG4gIGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlID0gbWVzc2FnZVByb3h5O1xufSkoKTsiXSwibmFtZXMiOlsib3JpZ2luYWxTZW5kZXIiLCJtZXNzYWdlUHJveHkiLCJ0YXJnZXQiLCJ0aGlzQXJnIiwiYXJndW1lbnRzTGlzdCIsIm1lc3NhZ2UiLCJjYWxsYmFjayIsImFyZ3MiLCJ0b2RheSIsIm5ld0RhdGEiLCJzdG9yYWdlS2V5Iiwic3RvcmVkRGF0YSIsIml0ZW1NYXAiLCJpdGVtIiwibGlzdCJdLCJtYXBwaW5ncyI6IkNBQ0MsVUFBWSxDQUVMLE1BQUFBLEVBQWlCLE9BQU8sUUFBUSxZQUdoQ0MsRUFBZSxJQUFJLE1BQU1ELEVBQWdCLENBQzdDLE1BQU8sU0FBVUUsRUFBUUMsRUFBU0MsRUFBZSxDQUN6QyxLQUFBLENBQUNDLEVBQVNDLENBQVEsRUFBSUYsRUFFeEIsT0FBQUMsR0FBQSxZQUFBQSxFQUFTLFFBQVMsWUE2Q2IsUUFBUSxNQUFNSCxFQUFRQyxFQUFTLENBQUNFLEVBNUNkLElBQUlFLElBQWdCLENBRTNDLFFBQVEsTUFBTSxrQ0FBbUNBLEVBQUssQ0FBQyxDQUFDLEVBRXhELE1BQU1DLEVBQVEsSUFBSSxLQUFLLEVBQ3BCLG1CQUFtQixRQUFTLENBQzNCLFNBQVUsZ0JBQ1YsS0FBTSxVQUNOLE1BQU8sVUFDUCxJQUFLLFNBQUEsQ0FDTixFQUNBLFFBQVEsTUFBTyxHQUFHLEVBRWZDLEVBQVVGLEVBQUssQ0FBQyxHQUFLLENBQUMsRUFDdEJHLEVBQWEsVUFBVUYsQ0FBSyxHQUM1QkcsRUFDSixLQUFLLE1BQU0sYUFBYSxRQUFRRCxDQUFVLEdBQUssSUFBSSxHQUFLLENBQUMsRUFHckRFLEVBQVUsSUFBSSxJQUNsQixDQUFDLEdBQUdELEVBQVksR0FBR0YsQ0FBTyxFQUFFLElBQUtJLEdBQVMsQ0FDeENBLEVBQUssT0FDTCxDQUNFLEdBQUdBLEVBQ0gsVUFBVyxLQUFLLElBQUksQ0FBQSxDQUV2QixDQUFBLENBQ0gsRUFFTUMsRUFBTyxNQUFNLEtBQUtGLEVBQVEsUUFBUSxFQUV4QyxvQkFBYSxRQUFRRixFQUFZLEtBQUssVUFBVUksQ0FBSSxDQUFDLEVBRXJELE9BQU8sUUFBUSxZQUFZLENBQ3pCLEtBQU0saUJBQ04sUUFBUyxDQUNQLElBQUssbUJBQ0wsTUFBT0EsRUFBSyxNQUFBLENBQ2QsQ0FDRCxFQUVNUixHQUFBLFlBQUFBLEVBQVUsTUFBTUgsRUFBU0ksRUFDbEMsQ0FFZ0UsQ0FBQyxFQUc1RCxRQUFRLE1BQU1MLEVBQVFDLEVBQVNDLENBQWEsQ0FBQSxDQUNyRCxDQUNELEVBR0QsT0FBTyxRQUFRLFlBQWNILENBQy9CLEdBQUcifQ==
