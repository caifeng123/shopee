const A=`zhixia_${f()}`,g=`shopee_${f()}`,N={TW:{siteName:"台湾",host:"xiapi.xiapibuy.com",imgBase:"https://down-tw.img.susercontent.com/file"},MALAYSIA:{siteName:"马来西亚",host:"my.xiapibuy.com",imgBase:"https://down-my.img.susercontent.com/file"},SINGAPORE:{siteName:"新加坡",host:"sg.xiapibuy.com",imgBase:"https://down-sg.img.susercontent.com/file"},PH:{siteName:"菲律宾",host:"ph.xiapibuy.com",imgBase:"https://down-ph.img.susercontent.com/file"},VN:{siteName:"越南",host:"vn.xiapibuy.com",imgBase:"https://down-vn.img.susercontent.com/file"},TH:{siteName:"泰国",host:"th.xiapibuy.com",imgBase:"https://down-th.img.susercontent.com/file"}};function b(e){return Object.values(N).find(a=>e===a.host)||{}}function S({itemId:e,shopId:a,itemName:s}){if(!(!e||!a||!s))return`https://${location.host}/${s}-i.${a}.${e}`}chrome.runtime.onMessage.addListener((e,a,s)=>{if(e.type==="FROM_POPUP"){let r=0,o=0;if(e.payload.action==="download_csv"){const n=localStorage.getItem(A)||"[]",l=localStorage.getItem(g)||"[]",m=JSON.parse(n)||[],d=JSON.parse(l)||[];if(m.length>0||d.length>0){const p=D(m,d),h=new Blob(["\uFEFF"+p],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a");if(t.download!==void 0){const c=URL.createObjectURL(h);t.setAttribute("href",c),t.setAttribute("download",`${g}.csv`),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)}}}if(e.payload.action==="clear"&&(Object.keys(localStorage).forEach(n=>{(n.startsWith("zhixia_")||n.startsWith("shopee_"))&&localStorage.removeItem(n)}),r=0,o=0),e.payload.action==="get_count"){const n=localStorage.getItem(A);n?r=(JSON.parse(n)||[]).length:r=0;const l=localStorage.getItem(g);l?o=(JSON.parse(l)||[]).length:o=0}s({type:"FROM_CONTENT",payload:{zhixiaDataLength:r,shopeeDataLength:o}})}return!0});window.addEventListener("message",function(e){try{const a=JSON.parse(e.data);a.code==="REQUEST_CODE"&&a.data&&a.data.request&&a.data.request.length&&G(a.data.request[0],a)}catch{console.error("Error parsing message data:",e.data)}},!1);function D(e,a){var p,h;const s=((p=document.querySelector(".shopee-category-list .shopee-category-list__main-category__link"))==null?void 0:p.innerText)||"",r=((h=document.querySelector(".shopee-category-list .shopee-category-list__sub-category--active"))==null?void 0:h.innerText)||"",o=a.reduce((t,c)=>(t[c.itemid]=c,t),{}),n=e.map(t=>({...t,...o[t.itemId],firstCategory:s,secondCategory:r})),l=[["imgUrl","图片"],["itemId","商品ID"],["product_url","商品链接/名称"],["catName","类目路径"],["ctime","上架时间"],["sold","总销量"],["sales","近1天销量"],["sales7Day","近7天销量"],["sales30Day","近30天销量"],["gmv30Day","近30天销售额"],["sales30Rate","近30天销量增长率"],["price","实际价格(shopee)"],["shopeeSold","最近30天销量(shopee)"],["shopeeHistoricalSold","历史销量(shopee)"],["shopeeLocation","店铺位置(shopee)"],["tranPrice","价格走势"],["likeCount","点赞数"],["ratingNum","评论数"],["ratingStar","商品评分"],["firstCategory","一级类目"],["keyword","关键词"],["siteName","站点"],["secondCategory","二级类目"],["type","信息来源"]],m=l.map(t=>t[1]),d=n.map(t=>l.map(([c])=>{var _;switch(c){case"tranPrice":return((_=t[c])==null?void 0:_.replace(/[￥~]/g,""))||"";case"sales30Rate":return`${t[c]}%`;case"product_url":return t.product_url||t.itemName;default:return t[c]??""}}).map(c=>`"${String(c).replace(/"/g,'""')}"`).join(","));return[m.join(","),...d].join(`
`)}function f(e=Date.now()){return new Date(e).toLocaleDateString("zh-CN",{timeZone:"Asia/Shanghai",year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"-")}function G(e,a){var r=[{rule:/^.*\/api\/v[0-9].*?\/shop\/rcmd_items/,handler:P},{rule:/^.*\/api\/v[0-9].*?\/search\/search_items/,handler:i},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=pop.*?page_type=shop.*?/,handler:i},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=relevancy.*?page_type=search.*?&scenario=.*?/,handler:i},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=ctime.*?page_type=.*?&scenario=PAGE_GLOBAL_SEARCH.*/,handler:i},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=ctime.*?page_type=.*?&scenario=PAGE_OTHERS.*/,handler:i},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=sales.*&limit=30|60.*?page_type=.*?&scenario=PAGE_GLOBAL_SEARCH.*/,handler:i},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=sales.*&limit=30|60.*?page_type=.*?&scenario=PAGE_OTHERS.*/,handler:i},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=price.*?page_type=.*?&scenario=.*/,handler:i},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=pop.*?page_type=search.*?&scenario=PAGE_GLOBAL_SEARCH.*/,handler:i},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=pop.*?page_type=search.*?&scenario=PAGE_CATEGORY.*?/,handler:i},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=ctime.*?page_type=search.*?&scenario=PAGE_CATEGORY.*?/,handler:i},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=sales.*?page_type=search.*?&scenario=PAGE_CATEGORY.*?/,handler:i},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=pop.*?page_type=collection.*?&scenario=PAGE_COLLECTION.*/,handler:i},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=ctime.*?page_type=collection.*?&scenario=PAGE_COLLECTION.*/,handler:i},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=sales.*?page_type=collection.*?&scenario=PAGE_COLLECTION.*/,handler:i},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=price.*?page_type=collection.*?&scenario=PAGE_COLLECTION.*/,handler:i},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=relevancy.*?page_type=collection.*?&scenario=PAGE_COLLECTION.*/,handler:i},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=relevancy.*?page_type=search.*?&scenario=PAGE_CATEGORY.*/,handler:i},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=price.*?page_type=search.*?&scenario=PAGE_CATEGORY.*/,handler:i},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=pop.*?page_type=collection.*?&scenario=PAGE_GLOBAL_SEARCH.*/,handler:i},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=relevancy.*?page_type=collection.*?&scenario=PAGE_GLOBAL_SEARCH.*/,handler:i},{rule:/^.*\/api\/v[0-9].*?\/recommend\/recommend_v2/,handler:I}].filter(function(o){return o.rule.test(e)});try{r[0].handler(a)}catch(o){o.toString()}}function i(e){var l;const a=e.data.items;if(a.length==0)return;const s=((l=document.querySelector(".shopee-searchbar-input input"))==null?void 0:l.value)||"",r=b(location.host).siteName,o=b(location.host).imgBase,n=a.map(m=>{const{item_basic:d,item_data:p,item_card_displayed_asset:h}=m;if(d){const{sold:t,historical_sold:c,shop_location:_,itemid:y,price:v,ctime:u,name:E,image:C}=d,L=S({itemId:y,shopId:d==null?void 0:d.shopid,itemName:E});return{shopeeSold:t,shopeeHistoricalSold:c,shopeeLocation:_,itemid:y,price:v/1e5,itemName:E,ctime:f(u*1e3),keyword:s,type:"搜索",product_url:L,img:`${o}/${C}`,siteName:r}}if(p){const{itemid:t,item_card_display_price:c,ctime:_}=p,y=S({itemId:t,shopId:p==null?void 0:p.shopid,itemName:h==null?void 0:h.name});return{shopeeSold:"-",shopeeHistoricalSold:"-",shopeeLocation:h.shop_location,itemid:t,price:c.price/1e5,itemName:h.name,ctime:f(_*1e3),keyword:s,type:"推荐-最热销",product_url:y,img:`${o}/${h.image}`,siteName:r}}});O(n)}function I(e){const a=e.data.data.units;if(a.length==0)return;const s=a.map(({item:r})=>{const{item_data:o,item_card_displayed_asset:n}=r,l=o.item_card_display_sold_count.monthly_sold_count,m=o.item_card_display_sold_count.historical_sold_count,d=o.shop_data.shop_location,p=o.item_card_display_price.item_id,h=o.item_card_display_price.price,t=S({itemId:p,shopId:o==null?void 0:o.shopid,itemName:n==null?void 0:n.name});return{sold:l,historical_sold:m,shop_location:d,itemid:p,price:h,product_url:t,type:"推荐-综合排名"}});O(s)}function P(e){w(e.data.data.items)}function O(e){const a=localStorage.getItem(g);let s=[];a&&(s=JSON.parse(a)||[]),s=[...s,...e];const r=new Map(s.map(o=>[o.itemid,o]));s=Array.from(r.values()),localStorage.setItem(g,JSON.stringify(s)),chrome.runtime.sendMessage({type:"STORAGE_UPDATE",payload:{key:"shopeeDataLength",value:s.length}})}function w(e){if(!e||e.length===0)return;const a=500,s=60;let r=new Set;const o=setInterval(()=>{document.querySelectorAll(".shop-search-result-view__item").forEach((l,m)=>{const d=e[m];if(!d||r.has(l))return;const p=l.querySelector(".tranPrice");if(p){const{ctime:h,sold:t,historical_sold:c,liked_count:_}=d,y=new Date(h*1e3).toLocaleDateString(),v=y.startsWith("2025"),u=document.createElement("div");u.style.marginTop="5px",u.style.color=v?"red":"#757575",u.style.fontSize="12px",u.classList.add("additional-info"),v&&(u.style.fontWeight="bold",u.style.border="1px solid red"),u.innerHTML=`
                <div>创建时间: ${y}</div>
                <div>最近销量: ${t}</div>
                <div>历史销量: ${c}</div> <!-- 修正属性名 -->
                <div>喜欢数: ${_}</div>      <!-- 修正属性名 -->
            `,p.parentNode.appendChild(u),r.add(l)}}),r.size>=s&&(clearInterval(o),console.log("已处理商品卡数量:",r.size))},a)}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udGVudC5qcyIsInNvdXJjZXMiOlsiLi4vaGFjay13b3Jrc3BhY2Uvc3JjL2NvbnRlbnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQHRzLW5vY2hlY2sg6L+B56e777yM5ZCO57ut5YaN5omT5byAXG4vLyDojrflj5blvZPlpKnnmoTlrZjlgqjplK7lkI1cbi8vIOiOt+WPluW9k+WkqeeahOWtmOWCqOmUruWQjVxuY29uc3QgemhpeGlhU3RvcmFnZUtleSA9IGB6aGl4aWFfJHtnZXRDaGluYURhdGUoKX1gO1xuY29uc3Qgc2hvcGVlU3RvcmFnZUtleSA9IGBzaG9wZWVfJHtnZXRDaGluYURhdGUoKX1gO1xuXG5jb25zdCBTaXRlQ29uZmlnID0ge1xuICBUVzoge1xuICAgIHNpdGVOYW1lOiBcIuWPsOa5vlwiLFxuICAgIGhvc3Q6IFwieGlhcGkueGlhcGlidXkuY29tXCIsXG4gICAgaW1nQmFzZTogXCJodHRwczovL2Rvd24tdHcuaW1nLnN1c2VyY29udGVudC5jb20vZmlsZVwiLFxuICB9LFxuICBNQUxBWVNJQToge1xuICAgIHNpdGVOYW1lOiBcIumprOadpeilv+S6mlwiLFxuICAgIGhvc3Q6IFwibXkueGlhcGlidXkuY29tXCIsXG4gICAgaW1nQmFzZTogXCJodHRwczovL2Rvd24tbXkuaW1nLnN1c2VyY29udGVudC5jb20vZmlsZVwiLFxuICB9LFxuICBTSU5HQVBPUkU6IHtcbiAgICBzaXRlTmFtZTogXCLmlrDliqDlnaFcIixcbiAgICBob3N0OiBcInNnLnhpYXBpYnV5LmNvbVwiLFxuICAgIGltZ0Jhc2U6IFwiaHR0cHM6Ly9kb3duLXNnLmltZy5zdXNlcmNvbnRlbnQuY29tL2ZpbGVcIixcbiAgfSxcbiAgUEg6IHtcbiAgICBzaXRlTmFtZTogXCLoj7Llvovlrr5cIixcbiAgICBob3N0OiBcInBoLnhpYXBpYnV5LmNvbVwiLFxuICAgIGltZ0Jhc2U6IFwiaHR0cHM6Ly9kb3duLXBoLmltZy5zdXNlcmNvbnRlbnQuY29tL2ZpbGVcIixcbiAgfSxcbiAgVk46IHtcbiAgICBzaXRlTmFtZTogXCLotorljZdcIixcbiAgICBob3N0OiBcInZuLnhpYXBpYnV5LmNvbVwiLFxuICAgIGltZ0Jhc2U6IFwiaHR0cHM6Ly9kb3duLXZuLmltZy5zdXNlcmNvbnRlbnQuY29tL2ZpbGVcIixcbiAgfSxcbiAgVEg6IHtcbiAgICBzaXRlTmFtZTogXCLms7Dlm71cIixcbiAgICBob3N0OiBcInRoLnhpYXBpYnV5LmNvbVwiLFxuICAgIGltZ0Jhc2U6IFwiaHR0cHM6Ly9kb3duLXRoLmltZy5zdXNlcmNvbnRlbnQuY29tL2ZpbGVcIixcbiAgfSxcbn07XG5cbi8vIOagueaNrue9kemhtSBob3N0IOiOt+WPluermeeCueWQjeensFxuZnVuY3Rpb24gZ2V0U2l0ZUluZm9CeUhvc3QoaG9zdCkge1xuICByZXR1cm4gT2JqZWN0LnZhbHVlcyhTaXRlQ29uZmlnKS5maW5kKChzKSA9PiBob3N0ID09PSBzLmhvc3QpIHx8IHt9O1xufVxuXG4vLyDmoLnmja7ojrflj5bllYblk4Hpk77mjqVcbmZ1bmN0aW9uIGdldFByb2R1Y3RVcmwoeyBpdGVtSWQsIHNob3BJZCwgaXRlbU5hbWUgfSkge1xuICBpZiAoIWl0ZW1JZCB8fCAhc2hvcElkIHx8ICFpdGVtTmFtZSkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICByZXR1cm4gYGh0dHBzOi8vJHtsb2NhdGlvbi5ob3N0fS8ke2l0ZW1OYW1lfS1pLiR7c2hvcElkfS4ke2l0ZW1JZH1gO1xufVxuXG4vLyBjb250ZW50LmpzIOaOpeaUtnBvcHVw5pON5L2c5raI5oGvXG5jaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoKHJlcXVlc3QsIHNlbmRlciwgc2VuZFJlc3BvbnNlKSA9PiB7XG4gIGlmIChyZXF1ZXN0LnR5cGUgPT09IFwiRlJPTV9QT1BVUFwiKSB7XG4gICAgbGV0IHpoaXhpYURhdGFMZW5ndGggPSAwO1xuICAgIGxldCBzaG9wZWVEYXRhTGVuZ3RoID0gMDtcbiAgICBpZiAocmVxdWVzdC5wYXlsb2FkLmFjdGlvbiA9PT0gXCJkb3dubG9hZF9jc3ZcIikge1xuICAgICAgY29uc3QgemhpeGlhRGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHpoaXhpYVN0b3JhZ2VLZXkpIHx8IFwiW11cIjtcbiAgICAgIGNvbnN0IHNob3BlZURhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzaG9wZWVTdG9yYWdlS2V5KSB8fCBcIltdXCI7XG5cbiAgICAgIGNvbnN0IHBhcnNlZFpoaXhpYURhdGEgPSBKU09OLnBhcnNlKHpoaXhpYURhdGEpIHx8IFtdO1xuICAgICAgY29uc3QgcGFyc2VkU2hvcGVlRGF0YSA9IEpTT04ucGFyc2Uoc2hvcGVlRGF0YSkgfHwgW107XG5cbiAgICAgIGlmIChwYXJzZWRaaGl4aWFEYXRhLmxlbmd0aCA+IDAgfHwgcGFyc2VkU2hvcGVlRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIOWwhuaVsOaNrui9rOaNouS4uiBDU1Yg5qC85byPXG4gICAgICAgIGNvbnN0IGNzdkNvbnRlbnQgPSBjb252ZXJ0VG9DU1YocGFyc2VkWmhpeGlhRGF0YSwgcGFyc2VkU2hvcGVlRGF0YSk7XG4gICAgICAgIC8vIOWIm+W7uuS4i+i9vemTvuaOpVxuICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW1wiXFx1RkVGRlwiICsgY3N2Q29udGVudF0sIHtcbiAgICAgICAgICB0eXBlOiBcInRleHQvY3N2O2NoYXJzZXQ9dXRmLTg7XCIsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgICAgIGlmIChsaW5rLmRvd25sb2FkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCB1cmwpO1xuICAgICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKFwiZG93bmxvYWRcIiwgYCR7c2hvcGVlU3RvcmFnZUtleX0uY3N2YCk7XG4gICAgICAgICAgbGluay5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspO1xuICAgICAgICAgIGxpbmsuY2xpY2soKTtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChyZXF1ZXN0LnBheWxvYWQuYWN0aW9uID09PSBcImNsZWFyXCIpIHtcbiAgICAgIC8vIOa4heepuuaJgOaciXpoaXhpYV/lkoxzaG9wZWVf5byA5aS055qE5a2Y5YKoXG4gICAgICBPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgaWYgKGtleS5zdGFydHNXaXRoKCd6aGl4aWFfJykgfHwga2V5LnN0YXJ0c1dpdGgoJ3Nob3BlZV8nKSkge1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgemhpeGlhRGF0YUxlbmd0aCA9IDA7XG4gICAgICBzaG9wZWVEYXRhTGVuZ3RoID0gMDtcbiAgICB9XG4gICAgaWYgKHJlcXVlc3QucGF5bG9hZC5hY3Rpb24gPT09IFwiZ2V0X2NvdW50XCIpIHtcbiAgICAgIGNvbnN0IHpoaXhpYURhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh6aGl4aWFTdG9yYWdlS2V5KTtcbiAgICAgIGlmICh6aGl4aWFEYXRhKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZERhdGEgPSBKU09OLnBhcnNlKHpoaXhpYURhdGEpIHx8IFtdO1xuICAgICAgICB6aGl4aWFEYXRhTGVuZ3RoID0gcGFyc2VkRGF0YS5sZW5ndGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB6aGl4aWFEYXRhTGVuZ3RoID0gMDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNob3BlZURhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzaG9wZWVTdG9yYWdlS2V5KTtcbiAgICAgIGlmIChzaG9wZWVEYXRhKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZERhdGEgPSBKU09OLnBhcnNlKHNob3BlZURhdGEpIHx8IFtdO1xuICAgICAgICBzaG9wZWVEYXRhTGVuZ3RoID0gcGFyc2VkRGF0YS5sZW5ndGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzaG9wZWVEYXRhTGVuZ3RoID0gMDtcbiAgICAgIH1cbiAgICB9XG4gICAgc2VuZFJlc3BvbnNlKHtcbiAgICAgIHR5cGU6IFwiRlJPTV9DT05URU5UXCIsXG4gICAgICBwYXlsb2FkOiB7XG4gICAgICAgIHpoaXhpYURhdGFMZW5ndGgsXG4gICAgICAgIHNob3BlZURhdGFMZW5ndGgsXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG4gIHJldHVybiB0cnVlOyAvLyDkv53mjIHplb/ov57mjqVcbn0pO1xuXG4vLyDliqvmjIFzaG9wZWXor7fmsYJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxuICBcIm1lc3NhZ2VcIixcbiAgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgLy8g56Gu5L+d5raI5oGv5p2l5rqQ5piv5b2T5YmN56qX5Y+jXG4gICAgdHJ5IHtcbiAgICAgIC8vIOino+aekOaOpeaUtuWIsOeahOa2iOaBr+aVsOaNrlxuICAgICAgY29uc3QgZXZlbnREYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcblxuICAgICAgaWYgKGV2ZW50RGF0YS5jb2RlID09PSBcIlJFUVVFU1RfQ09ERVwiKSB7XG4gICAgICAgIC8vIOWkhOeQhuaOpeaUtuWIsOeahOaVsOaNrlxuICAgICAgICBpZiAoXG4gICAgICAgICAgZXZlbnREYXRhLmRhdGEgJiZcbiAgICAgICAgICBldmVudERhdGEuZGF0YS5yZXF1ZXN0ICYmXG4gICAgICAgICAgZXZlbnREYXRhLmRhdGEucmVxdWVzdC5sZW5ndGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgc2hvcGVlSGFuZGxlcihldmVudERhdGEuZGF0YS5yZXF1ZXN0WzBdLCBldmVudERhdGEpO1xuICAgICAgICB9XG4gICAgICAgIC8vIOi/memHjOWPr+S7pea3u+WKoOS9oOWkhOeQhuaVsOaNrueahOmAu+i+kVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcGFyc2luZyBtZXNzYWdlIGRhdGE6XCIsIGV2ZW50LmRhdGEpO1xuICAgIH1cbiAgfSxcbiAgZmFsc2Vcbik7XG5cbi8vIOWwhuaVsOe7hOi9rOaNouS4uiBDU1Yg5qC85byPXG5mdW5jdGlvbiBjb252ZXJ0VG9DU1YoemhpeGlhRGF0YSwgc2hvcGVlRGF0YSkge1xuICBjb25zdCBmaXJzdENhdGVnb3J5ID1cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIuc2hvcGVlLWNhdGVnb3J5LWxpc3QgLnNob3BlZS1jYXRlZ29yeS1saXN0X19tYWluLWNhdGVnb3J5X19saW5rXCJcbiAgICApPy5pbm5lclRleHQgfHwgXCJcIjtcbiAgY29uc3Qgc2Vjb25kQ2F0ZWdvcnkgPVxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5zaG9wZWUtY2F0ZWdvcnktbGlzdCAuc2hvcGVlLWNhdGVnb3J5LWxpc3RfX3N1Yi1jYXRlZ29yeS0tYWN0aXZlXCJcbiAgICApPy5pbm5lclRleHQgfHwgXCJcIjtcblxuICBjb25zdCBzaG9wZWVEYXRhTWFwID0gc2hvcGVlRGF0YS5yZWR1Y2UoKGFjYywgaXRlbSkgPT4ge1xuICAgIGFjY1tpdGVtLml0ZW1pZF0gPSBpdGVtO1xuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcbiAgY29uc3QgYXJyID0gemhpeGlhRGF0YS5tYXAoKGl0ZW0pID0+IHtcbiAgICAvLyDkvJjlhYjkvb/nlKhzaG9wZWXmlbDmja5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uaXRlbSxcbiAgICAgIC4uLnNob3BlZURhdGFNYXBbaXRlbS5pdGVtSWRdLFxuICAgICAgZmlyc3RDYXRlZ29yeSxcbiAgICAgIHNlY29uZENhdGVnb3J5LFxuICAgIH07XG4gIH0pO1xuXG4gIC8vIOWumuS5ieWbuuWumuWIl+mhuuW6j++8iOagueaNruWunumZheaVsOaNrue7k+aehOiwg+aVtO+8iVxuICBjb25zdCBmaWVsZE1hcHBpbmcgPSBbXG4gICAgW1wiaW1nVXJsXCIsIFwi5Zu+54mHXCJdLFxuICAgIFtcIml0ZW1JZFwiLCBcIuWVhuWTgUlEXCJdLFxuICAgIFtcInByb2R1Y3RfdXJsXCIsIFwi5ZWG5ZOB6ZO+5o6lL+WQjeensFwiXSxcbiAgICBbXCJjYXROYW1lXCIsIFwi57G755uu6Lev5b6EXCJdLFxuICAgIFtcImN0aW1lXCIsIFwi5LiK5p625pe26Ze0XCJdLFxuICAgIFtcInNvbGRcIiwgXCLmgLvplIDph49cIl0sXG4gICAgW1wic2FsZXNcIiwgXCLov5Ex5aSp6ZSA6YePXCJdLFxuICAgIFtcInNhbGVzN0RheVwiLCBcIui/kTflpKnplIDph49cIl0sXG4gICAgW1wic2FsZXMzMERheVwiLCBcIui/kTMw5aSp6ZSA6YePXCJdLFxuICAgIFtcImdtdjMwRGF5XCIsIFwi6L+RMzDlpKnplIDllK7pop1cIl0sXG4gICAgW1wic2FsZXMzMFJhdGVcIiwgXCLov5EzMOWkqemUgOmHj+WinumVv+eOh1wiXSxcbiAgICBbXCJwcmljZVwiLCBcIuWunumZheS7t+agvChzaG9wZWUpXCJdLFxuICAgIFtcInNob3BlZVNvbGRcIiwgXCLmnIDov5EzMOWkqemUgOmHjyhzaG9wZWUpXCJdLFxuICAgIFtcInNob3BlZUhpc3RvcmljYWxTb2xkXCIsIFwi5Y6G5Y+y6ZSA6YePKHNob3BlZSlcIl0sXG4gICAgW1wic2hvcGVlTG9jYXRpb25cIiwgXCLlupfpk7rkvY3nva4oc2hvcGVlKVwiXSxcbiAgICBbXCJ0cmFuUHJpY2VcIiwgXCLku7fmoLzotbDlir9cIl0sXG4gICAgW1wibGlrZUNvdW50XCIsIFwi54K56LWe5pWwXCJdLFxuICAgIFtcInJhdGluZ051bVwiLCBcIuivhOiuuuaVsFwiXSxcbiAgICBbXCJyYXRpbmdTdGFyXCIsIFwi5ZWG5ZOB6K+E5YiGXCJdLFxuICAgIFtcImZpcnN0Q2F0ZWdvcnlcIiwgXCLkuIDnuqfnsbvnm65cIl0sXG4gICAgW1wia2V5d29yZFwiLCBcIuWFs+mUruivjVwiXSxcbiAgICBbXCJzaXRlTmFtZVwiLCBcIuermeeCuVwiXSxcbiAgICBbXCJzZWNvbmRDYXRlZ29yeVwiLCBcIuS6jOe6p+exu+ebrlwiXSxcbiAgICBbXCJ0eXBlXCIsIFwi5L+h5oGv5p2l5rqQXCJdXG4gIF07XG4gIGNvbnN0IGhlYWRlcnMgPSBmaWVsZE1hcHBpbmcubWFwKChmKSA9PiBmWzFdKTtcbiAgLy8g5Yib5bu6IENTViDlhoXlrrlcbiAgY29uc3Qgcm93cyA9IGFyci5tYXAoKGl0ZW0pID0+IHtcbiAgICByZXR1cm4gZmllbGRNYXBwaW5nXG4gICAgICAubWFwKChbZmllbGRdKSA9PiB7XG4gICAgICAgIC8vIOeJueauiuWtl+auteWkhOeQhlxuICAgICAgICBzd2l0Y2ggKGZpZWxkKSB7XG4gICAgICAgICAgY2FzZSBcInRyYW5QcmljZVwiOlxuICAgICAgICAgICAgcmV0dXJuIGl0ZW1bZmllbGRdPy5yZXBsYWNlKC9b77+lfl0vZywgXCJcIikgfHwgXCJcIjtcbiAgICAgICAgICBjYXNlIFwic2FsZXMzMFJhdGVcIjpcbiAgICAgICAgICAgIHJldHVybiBgJHtpdGVtW2ZpZWxkXX0lYDtcbiAgICAgICAgICBjYXNlIFwicHJvZHVjdF91cmxcIjpcbiAgICAgICAgICAgIHJldHVybiBpdGVtLnByb2R1Y3RfdXJsIHx8IGl0ZW0uaXRlbU5hbWU7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBpdGVtW2ZpZWxkXSA/PyBcIlwiO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLm1hcCgodikgPT4gYFwiJHtTdHJpbmcodikucmVwbGFjZSgvXCIvZywgJ1wiXCInKX1cImApXG4gICAgICAuam9pbihcIixcIik7XG4gIH0pO1xuXG4gIHJldHVybiBbaGVhZGVycy5qb2luKFwiLFwiKSwgLi4ucm93c10uam9pbihcIlxcblwiKTtcbn1cblxuLy8g6I635Y+W5b2T5YmN5Lit5Zu95pel5pyfXG5mdW5jdGlvbiBnZXRDaGluYURhdGUodGltZSA9IERhdGUubm93KCkpIHtcbiAgcmV0dXJuIG5ldyBEYXRlKHRpbWUpXG4gICAgLnRvTG9jYWxlRGF0ZVN0cmluZyhcInpoLUNOXCIsIHtcbiAgICAgIHRpbWVab25lOiBcIkFzaWEvU2hhbmdoYWlcIixcbiAgICAgIHllYXI6IFwibnVtZXJpY1wiLFxuICAgICAgbW9udGg6IFwiMi1kaWdpdFwiLFxuICAgICAgZGF5OiBcIjItZGlnaXRcIixcbiAgICB9KVxuICAgIC5yZXBsYWNlKC9cXC8vZywgXCItXCIpOyAvLyDovpPlh7rmoLzlvI/vvJp5eXl5LW1tLWRkXG59XG5cbi8qKlxuICog572R5YWz5YiG5Y+RXG4gKiBAcGFyYW0gdXJsXG4gKiBAcGFyYW0gcmVzdWx0RGF0YVxuICovXG5mdW5jdGlvbiBzaG9wZWVIYW5kbGVyKHVybCwgcmVzdWx0RGF0YSkge1xuICBsZXQgcnVsZXMgPSBbXG4gICAge1xuICAgICAgcnVsZTogL14uKlxcL2FwaVxcL3ZbMC05XS4qP1xcL3Nob3BcXC9yY21kX2l0ZW1zLyxcbiAgICAgIGhhbmRsZXI6IHNob3BlZUdldFNob3BSY21kTGlzdCxcbiAgICB9LFxuICAgIHtcbiAgICAgIHJ1bGU6IC9eLipcXC9hcGlcXC92WzAtOV0uKj9cXC9zZWFyY2hcXC9zZWFyY2hfaXRlbXMvLFxuICAgICAgaGFuZGxlcjogc2hvcGVlR2V0TGlzdCxcbiAgICB9LFxuICAgIHtcbiAgICAgIHJ1bGU6IC9eLipcXC9hcGlcXC92WzAtOV0uKj9cXC9zZWFyY2hfaXRlbXMoXFwvKT9cXD9ieT1wb3AuKj9wYWdlX3R5cGU9c2hvcC4qPy8sXG4gICAgICBoYW5kbGVyOiBzaG9wZWVHZXRMaXN0LFxuICAgIH0sXG4gICAge1xuICAgICAgcnVsZTogL14uKlxcL2FwaVxcL3ZbMC05XS4qP1xcL3NlYXJjaF9pdGVtcyhcXC8pP1xcP2J5PXJlbGV2YW5jeS4qP3BhZ2VfdHlwZT1zZWFyY2guKj8mc2NlbmFyaW89Lio/LyxcbiAgICAgIGhhbmRsZXI6IHNob3BlZUdldExpc3QsXG4gICAgfSxcbiAgICB7XG4gICAgICBydWxlOiAvXi4qXFwvYXBpXFwvdlswLTldLio/XFwvc2VhcmNoX2l0ZW1zKFxcLyk/XFw/Ynk9Y3RpbWUuKj9wYWdlX3R5cGU9Lio/JnNjZW5hcmlvPVBBR0VfR0xPQkFMX1NFQVJDSC4qLyxcbiAgICAgIGhhbmRsZXI6IHNob3BlZUdldExpc3QsXG4gICAgfSxcbiAgICB7XG4gICAgICBydWxlOiAvXi4qXFwvYXBpXFwvdlswLTldLio/XFwvc2VhcmNoX2l0ZW1zKFxcLyk/XFw/Ynk9Y3RpbWUuKj9wYWdlX3R5cGU9Lio/JnNjZW5hcmlvPVBBR0VfT1RIRVJTLiovLFxuICAgICAgaGFuZGxlcjogc2hvcGVlR2V0TGlzdCxcbiAgICB9LFxuICAgIHtcbiAgICAgIHJ1bGU6IC9eLipcXC9hcGlcXC92WzAtOV0uKj9cXC9zZWFyY2hfaXRlbXMoXFwvKT9cXD9ieT1zYWxlcy4qJmxpbWl0PTMwfDYwLio/cGFnZV90eXBlPS4qPyZzY2VuYXJpbz1QQUdFX0dMT0JBTF9TRUFSQ0guKi8sXG4gICAgICBoYW5kbGVyOiBzaG9wZWVHZXRMaXN0LFxuICAgIH0sXG4gICAge1xuICAgICAgcnVsZTogL14uKlxcL2FwaVxcL3ZbMC05XS4qP1xcL3NlYXJjaF9pdGVtcyhcXC8pP1xcP2J5PXNhbGVzLiombGltaXQ9MzB8NjAuKj9wYWdlX3R5cGU9Lio/JnNjZW5hcmlvPVBBR0VfT1RIRVJTLiovLFxuICAgICAgaGFuZGxlcjogc2hvcGVlR2V0TGlzdCxcbiAgICB9LFxuICAgIHtcbiAgICAgIHJ1bGU6IC9eLipcXC9hcGlcXC92WzAtOV0uKj9cXC9zZWFyY2hfaXRlbXMoXFwvKT9cXD9ieT1wcmljZS4qP3BhZ2VfdHlwZT0uKj8mc2NlbmFyaW89LiovLFxuICAgICAgaGFuZGxlcjogc2hvcGVlR2V0TGlzdCxcbiAgICB9LFxuICAgIHtcbiAgICAgIHJ1bGU6IC9eLipcXC9hcGlcXC92WzAtOV0uKj9cXC9zZWFyY2hfaXRlbXMoXFwvKT9cXD9ieT1wb3AuKj9wYWdlX3R5cGU9c2VhcmNoLio/JnNjZW5hcmlvPVBBR0VfR0xPQkFMX1NFQVJDSC4qLyxcbiAgICAgIGhhbmRsZXI6IHNob3BlZUdldExpc3QsXG4gICAgfSxcbiAgICB7XG4gICAgICBydWxlOiAvXi4qXFwvYXBpXFwvdlswLTldLio/XFwvc2VhcmNoX2l0ZW1zKFxcLyk/XFw/Ynk9cG9wLio/cGFnZV90eXBlPXNlYXJjaC4qPyZzY2VuYXJpbz1QQUdFX0NBVEVHT1JZLio/LyxcbiAgICAgIGhhbmRsZXI6IHNob3BlZUdldExpc3QsXG4gICAgfSxcbiAgICB7XG4gICAgICBydWxlOiAvXi4qXFwvYXBpXFwvdlswLTldLio/XFwvc2VhcmNoX2l0ZW1zKFxcLyk/XFw/Ynk9Y3RpbWUuKj9wYWdlX3R5cGU9c2VhcmNoLio/JnNjZW5hcmlvPVBBR0VfQ0FURUdPUlkuKj8vLFxuICAgICAgaGFuZGxlcjogc2hvcGVlR2V0TGlzdCxcbiAgICB9LFxuICAgIHtcbiAgICAgIHJ1bGU6IC9eLipcXC9hcGlcXC92WzAtOV0uKj9cXC9zZWFyY2hfaXRlbXMoXFwvKT9cXD9ieT1zYWxlcy4qP3BhZ2VfdHlwZT1zZWFyY2guKj8mc2NlbmFyaW89UEFHRV9DQVRFR09SWS4qPy8sXG4gICAgICBoYW5kbGVyOiBzaG9wZWVHZXRMaXN0LFxuICAgIH0sXG4gICAge1xuICAgICAgcnVsZTogL14uKlxcL2FwaVxcL3ZbMC05XS4qP1xcL3NlYXJjaF9pdGVtcyhcXC8pP1xcP2J5PXBvcC4qP3BhZ2VfdHlwZT1jb2xsZWN0aW9uLio/JnNjZW5hcmlvPVBBR0VfQ09MTEVDVElPTi4qLyxcbiAgICAgIGhhbmRsZXI6IHNob3BlZUdldExpc3QsXG4gICAgfSxcbiAgICB7XG4gICAgICBydWxlOiAvXi4qXFwvYXBpXFwvdlswLTldLio/XFwvc2VhcmNoX2l0ZW1zKFxcLyk/XFw/Ynk9Y3RpbWUuKj9wYWdlX3R5cGU9Y29sbGVjdGlvbi4qPyZzY2VuYXJpbz1QQUdFX0NPTExFQ1RJT04uKi8sXG4gICAgICBoYW5kbGVyOiBzaG9wZWVHZXRMaXN0LFxuICAgIH0sXG4gICAge1xuICAgICAgcnVsZTogL14uKlxcL2FwaVxcL3ZbMC05XS4qP1xcL3NlYXJjaF9pdGVtcyhcXC8pP1xcP2J5PXNhbGVzLio/cGFnZV90eXBlPWNvbGxlY3Rpb24uKj8mc2NlbmFyaW89UEFHRV9DT0xMRUNUSU9OLiovLFxuICAgICAgaGFuZGxlcjogc2hvcGVlR2V0TGlzdCxcbiAgICB9LFxuICAgIHtcbiAgICAgIHJ1bGU6IC9eLipcXC9hcGlcXC92WzAtOV0uKj9cXC9zZWFyY2hfaXRlbXMoXFwvKT9cXD9ieT1wcmljZS4qP3BhZ2VfdHlwZT1jb2xsZWN0aW9uLio/JnNjZW5hcmlvPVBBR0VfQ09MTEVDVElPTi4qLyxcbiAgICAgIGhhbmRsZXI6IHNob3BlZUdldExpc3QsXG4gICAgfSxcbiAgICB7XG4gICAgICBydWxlOiAvXi4qXFwvYXBpXFwvdlswLTldLio/XFwvc2VhcmNoX2l0ZW1zKFxcLyk/XFw/Ynk9cmVsZXZhbmN5Lio/cGFnZV90eXBlPWNvbGxlY3Rpb24uKj8mc2NlbmFyaW89UEFHRV9DT0xMRUNUSU9OLiovLFxuICAgICAgaGFuZGxlcjogc2hvcGVlR2V0TGlzdCxcbiAgICB9LFxuICAgIHtcbiAgICAgIHJ1bGU6IC9eLipcXC9hcGlcXC92WzAtOV0uKj9cXC9zZWFyY2hfaXRlbXMoXFwvKT9cXD9ieT1yZWxldmFuY3kuKj9wYWdlX3R5cGU9c2VhcmNoLio/JnNjZW5hcmlvPVBBR0VfQ0FURUdPUlkuKi8sXG4gICAgICBoYW5kbGVyOiBzaG9wZWVHZXRMaXN0LFxuICAgIH0sXG4gICAge1xuICAgICAgcnVsZTogL14uKlxcL2FwaVxcL3ZbMC05XS4qP1xcL3NlYXJjaF9pdGVtcyhcXC8pP1xcP2J5PXByaWNlLio/cGFnZV90eXBlPXNlYXJjaC4qPyZzY2VuYXJpbz1QQUdFX0NBVEVHT1JZLiovLFxuICAgICAgaGFuZGxlcjogc2hvcGVlR2V0TGlzdCxcbiAgICB9LFxuICAgIHtcbiAgICAgIHJ1bGU6IC9eLipcXC9hcGlcXC92WzAtOV0uKj9cXC9zZWFyY2hfaXRlbXMoXFwvKT9cXD9ieT1wb3AuKj9wYWdlX3R5cGU9Y29sbGVjdGlvbi4qPyZzY2VuYXJpbz1QQUdFX0dMT0JBTF9TRUFSQ0guKi8sXG4gICAgICBoYW5kbGVyOiBzaG9wZWVHZXRMaXN0LFxuICAgIH0sXG4gICAge1xuICAgICAgcnVsZTogL14uKlxcL2FwaVxcL3ZbMC05XS4qP1xcL3NlYXJjaF9pdGVtcyhcXC8pP1xcP2J5PXJlbGV2YW5jeS4qP3BhZ2VfdHlwZT1jb2xsZWN0aW9uLio/JnNjZW5hcmlvPVBBR0VfR0xPQkFMX1NFQVJDSC4qLyxcbiAgICAgIGhhbmRsZXI6IHNob3BlZUdldExpc3QsXG4gICAgfSxcbiAgICB7XG4gICAgICBydWxlOiAvXi4qXFwvYXBpXFwvdlswLTldLio/XFwvcmVjb21tZW5kXFwvcmVjb21tZW5kX3YyLyxcbiAgICAgIGhhbmRsZXI6IHNob3BlZUdldEhkTGlzdCxcbiAgICB9LFxuICAgIC8vIHtcbiAgICAvLyAgICAgcnVsZTogL14uKlxcL2FwaVxcL3ZbMC05XS4qP1xcL3JjbWRfaXRlbXMoXFwvKT9cXD9idW5kbGU9LiombGltaXQ9Liomb2Zmc2V0PS4qJnNob3BfaWQ9Liomc29ydF90eXBlPS4qJnVwc3RyZWFtPS4qLyxcbiAgICAvLyAgICAgaGFuZGxlcjogZ2V0U2hvcEl0ZW1MaXN0XG4gICAgLy8gfSxcbiAgICAvLyB7XG4gICAgLy8gICAgIHJ1bGU6IC9eLipcXC9hcGlcXC92WzAtOV0uKj9cXC9zaG9wXFwvcmNtZF9pdGVtcy4qLyxcbiAgICAvLyAgICAgaGFuZGxlcjogZ2V0U2hvcEl0ZW1MaXN0XG4gICAgLy8gfSxcbiAgICAvLyB7XG4gICAgLy8gICAgIHJ1bGU6IC9eLipcXC9hcGlcXC92WzAtOV0uKj9cXC9ob21lcGFnZVxcL2dldF9kYWlseV9kaXNjb3ZlclxcP2J1bmRsZT0uKiZpdGVtX2NhcmQ9LiombGltaXQ9LiombmVlZF90YWI9Liomb2Zmc2V0PS4qJnZpZXdfc2Vzc2lvbl9pZD0uKi8sXG4gICAgLy8gICAgIGhhbmRsZXI6IGdldEhvbWVJdGVtTGlzdFxuICAgIC8vIH0sXG4gICAgLy8ge1xuICAgIC8vICAgICBydWxlOiAvXi4qXFwvYXBpXFwvdlswLTldLio/XFwvcmVjb21tZW5kXFwvcHJvZHVjdF9kZXRhaWxfcGFnZS4qLyxcbiAgICAvLyAgICAgaGFuZGxlcjogZ2V0U2ltaWxhckl0ZW1MaXN0XG4gICAgLy8gfSxcbiAgICAvLyB7XG4gICAgLy8gICAgIHJ1bGU6IC9eLipcXC9hcGlcXC92WzAtOV0uKj9cXC9yZWNvbW1lbmRcXC9yZWNvbW1lbmRfcG9zdC4qLyxcbiAgICAvLyAgICAgaGFuZGxlcjogZ2V0RmluZFNpbWlsYXJQcm9kdWN0c1xuICAgIC8vIH1cbiAgXTtcbiAgdmFyIGhhbmRsZXJzID0gcnVsZXMuZmlsdGVyKGZ1bmN0aW9uICh2KSB7XG4gICAgcmV0dXJuIHYucnVsZS50ZXN0KHVybCk7XG4gIH0pO1xuICB0cnkge1xuICAgIGhhbmRsZXJzWzBdLmhhbmRsZXIocmVzdWx0RGF0YSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBlLnRvU3RyaW5nKCk7XG4gIH1cbn1cblxuLy8g6I635Y+W5pCc57Si5pWw5o2uXG5mdW5jdGlvbiBzaG9wZWVHZXRMaXN0KHJlc3VsdERhdGEpIHtcbiAgY29uc3QgbGlzdCA9IHJlc3VsdERhdGEuZGF0YS5pdGVtcztcbiAgaWYgKGxpc3QubGVuZ3RoID09IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8g6I635Y+W5b2T5YmN6aG16Z2i5LiK55qE5YWz6ZSu6K+NXG4gIGNvbnN0IGtleXdvcmQgPVxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2hvcGVlLXNlYXJjaGJhci1pbnB1dCBpbnB1dFwiKT8udmFsdWUgfHwgXCJcIjtcblxuICBjb25zdCBzaXRlTmFtZSA9IGdldFNpdGVJbmZvQnlIb3N0KGxvY2F0aW9uLmhvc3QpLnNpdGVOYW1lO1xuICBjb25zdCBpbWdCYXNlID0gZ2V0U2l0ZUluZm9CeUhvc3QobG9jYXRpb24uaG9zdCkuaW1nQmFzZTtcblxuICBjb25zdCBkYXRhID0gbGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICBjb25zdCB7IGl0ZW1fYmFzaWMsIGl0ZW1fZGF0YSwgaXRlbV9jYXJkX2Rpc3BsYXllZF9hc3NldCB9ID0gaXRlbTtcbiAgICAvLyDmkJzntKJcbiAgICBpZiAoaXRlbV9iYXNpYykge1xuICAgICAgY29uc3Qge1xuICAgICAgICBzb2xkLFxuICAgICAgICBoaXN0b3JpY2FsX3NvbGQsXG4gICAgICAgIHNob3BfbG9jYXRpb24sXG4gICAgICAgIGl0ZW1pZCxcbiAgICAgICAgcHJpY2UsXG4gICAgICAgIGN0aW1lLFxuICAgICAgICBuYW1lLFxuICAgICAgICBpbWFnZVxuICAgICAgfSA9IGl0ZW1fYmFzaWM7XG5cbiAgICAgIGNvbnN0IHByb2R1Y3RfdXJsID0gZ2V0UHJvZHVjdFVybCh7XG4gICAgICAgIGl0ZW1JZDogaXRlbWlkLFxuICAgICAgICBzaG9wSWQ6IGl0ZW1fYmFzaWM/LnNob3BpZCxcbiAgICAgICAgaXRlbU5hbWU6IG5hbWVcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzaG9wZWVTb2xkOiBzb2xkLFxuICAgICAgICBzaG9wZWVIaXN0b3JpY2FsU29sZDogaGlzdG9yaWNhbF9zb2xkLFxuICAgICAgICBzaG9wZWVMb2NhdGlvbjogc2hvcF9sb2NhdGlvbixcbiAgICAgICAgaXRlbWlkLFxuICAgICAgICBwcmljZTogcHJpY2UgLyAxMDAwMDAsXG4gICAgICAgIGl0ZW1OYW1lOiBuYW1lLFxuICAgICAgICBjdGltZTogZ2V0Q2hpbmFEYXRlKGN0aW1lICogMTAwMCksXG4gICAgICAgIGtleXdvcmQsXG4gICAgICAgIHR5cGU6IFwi5pCc57SiXCIsXG4gICAgICAgIHByb2R1Y3RfdXJsLFxuICAgICAgICBpbWc6IGAke2ltZ0Jhc2V9LyR7aW1hZ2V9YCxcbiAgICAgICAgc2l0ZU5hbWUsXG4gICAgICB9O1xuICAgIH1cbiAgICAvLyDmjqjojZAt5pyA54Ot6ZSAXG4gICAgaWYgKGl0ZW1fZGF0YSkge1xuICAgICAgY29uc3QgeyBpdGVtaWQsIGl0ZW1fY2FyZF9kaXNwbGF5X3ByaWNlLCBjdGltZSB9ID0gaXRlbV9kYXRhO1xuXG4gICAgICBjb25zdCBwcm9kdWN0X3VybCA9IGdldFByb2R1Y3RVcmwoe1xuICAgICAgICBpdGVtSWQ6IGl0ZW1pZCxcbiAgICAgICAgc2hvcElkOiBpdGVtX2RhdGE/LnNob3BpZCxcbiAgICAgICAgaXRlbU5hbWU6IGl0ZW1fY2FyZF9kaXNwbGF5ZWRfYXNzZXQ/Lm5hbWUsXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2hvcGVlU29sZDogXCItXCIsXG4gICAgICAgIHNob3BlZUhpc3RvcmljYWxTb2xkOiBcIi1cIixcbiAgICAgICAgc2hvcGVlTG9jYXRpb246IGl0ZW1fY2FyZF9kaXNwbGF5ZWRfYXNzZXQuc2hvcF9sb2NhdGlvbixcbiAgICAgICAgaXRlbWlkLFxuICAgICAgICBwcmljZTogaXRlbV9jYXJkX2Rpc3BsYXlfcHJpY2UucHJpY2UgLyAxMDAwMDAsXG4gICAgICAgIGl0ZW1OYW1lOiBpdGVtX2NhcmRfZGlzcGxheWVkX2Fzc2V0Lm5hbWUsXG4gICAgICAgIGN0aW1lOiBnZXRDaGluYURhdGUoY3RpbWUgKiAxMDAwKSxcbiAgICAgICAga2V5d29yZCxcbiAgICAgICAgdHlwZTogXCLmjqjojZAt5pyA54Ot6ZSAXCIsXG4gICAgICAgIHByb2R1Y3RfdXJsLFxuICAgICAgICBpbWc6IGAke2ltZ0Jhc2V9LyR7aXRlbV9jYXJkX2Rpc3BsYXllZF9hc3NldC5pbWFnZX1gLFxuICAgICAgICBzaXRlTmFtZSxcbiAgICAgIH07XG4gICAgfVxuICB9KTtcbiAgc3RvcmVTaG9wZWVEYXRhKGRhdGEpO1xufVxuXG4vLyDojrflj5bmjqjojZDmlbDmja5cbmZ1bmN0aW9uIHNob3BlZUdldEhkTGlzdChyZXN1bHREYXRhKSB7XG4gIGNvbnN0IGxpc3QgPSByZXN1bHREYXRhLmRhdGEuZGF0YS51bml0cztcbiAgaWYgKGxpc3QubGVuZ3RoID09IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBkYXRhID0gbGlzdC5tYXAoKHsgaXRlbSB9KSA9PiB7XG5cbiAgICBjb25zdCB7IGl0ZW1fZGF0YSwgaXRlbV9jYXJkX2Rpc3BsYXllZF9hc3NldCB9ID0gaXRlbTtcbiAgICBjb25zdCBzb2xkID0gaXRlbV9kYXRhLml0ZW1fY2FyZF9kaXNwbGF5X3NvbGRfY291bnQubW9udGhseV9zb2xkX2NvdW50O1xuICAgIGNvbnN0IGhpc3RvcmljYWxfc29sZCA9XG4gICAgICBpdGVtX2RhdGEuaXRlbV9jYXJkX2Rpc3BsYXlfc29sZF9jb3VudC5oaXN0b3JpY2FsX3NvbGRfY291bnQ7XG4gICAgY29uc3Qgc2hvcF9sb2NhdGlvbiA9IGl0ZW1fZGF0YS5zaG9wX2RhdGEuc2hvcF9sb2NhdGlvbjtcbiAgICBjb25zdCBpdGVtaWQgPSBpdGVtX2RhdGEuaXRlbV9jYXJkX2Rpc3BsYXlfcHJpY2UuaXRlbV9pZDtcbiAgICBjb25zdCBwcmljZSA9IGl0ZW1fZGF0YS5pdGVtX2NhcmRfZGlzcGxheV9wcmljZS5wcmljZTtcbiAgICBjb25zdCBwcm9kdWN0X3VybCA9IGdldFByb2R1Y3RVcmwoe1xuICAgICAgaXRlbUlkOiBpdGVtaWQsXG4gICAgICBzaG9wSWQ6IGl0ZW1fZGF0YT8uc2hvcGlkLFxuICAgICAgaXRlbU5hbWU6IGl0ZW1fY2FyZF9kaXNwbGF5ZWRfYXNzZXQ/Lm5hbWUsXG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgc29sZCxcbiAgICAgIGhpc3RvcmljYWxfc29sZCxcbiAgICAgIHNob3BfbG9jYXRpb24sXG4gICAgICBpdGVtaWQsXG4gICAgICBwcmljZSxcbiAgICAgIHByb2R1Y3RfdXJsLFxuICAgICAgdHlwZTogXCLmjqjojZAt57u85ZCI5o6S5ZCNXCIsXG4gICAgfTtcbiAgfSk7XG4gIHN0b3JlU2hvcGVlRGF0YShkYXRhKTtcbn1cblxuLy8g6I635Y+W5bqX6ZO65o6o6I2Q5pWw5o2uXG5mdW5jdGlvbiBzaG9wZWVHZXRTaG9wUmNtZExpc3QocmVzdWx0RGF0YSkge1xuICBtb25pdG9yQW5kQWRkSW5mbyhyZXN1bHREYXRhLmRhdGEuZGF0YS5pdGVtcylcbn1cblxuZnVuY3Rpb24gc3RvcmVTaG9wZWVEYXRhKG5ld0RhdGEpIHtcbiAgY29uc3Qgc3RvcmVkRGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHNob3BlZVN0b3JhZ2VLZXkpO1xuICBsZXQgcGFyc2VkRGF0YSA9IFtdO1xuICBpZiAoc3RvcmVkRGF0YSkge1xuICAgIHBhcnNlZERhdGEgPSBKU09OLnBhcnNlKHN0b3JlZERhdGEpIHx8IFtdO1xuICB9XG4gIHBhcnNlZERhdGEgPSBbLi4ucGFyc2VkRGF0YSwgLi4ubmV3RGF0YV07XG4gIC8vIOWOu+mHjVxuICBjb25zdCBpdGVtTWFwID0gbmV3IE1hcChwYXJzZWREYXRhLm1hcCgoaXRlbSkgPT4gW2l0ZW0uaXRlbWlkLCBpdGVtXSkpO1xuICBwYXJzZWREYXRhID0gQXJyYXkuZnJvbShpdGVtTWFwLnZhbHVlcygpKTtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oc2hvcGVlU3RvcmFnZUtleSwgSlNPTi5zdHJpbmdpZnkocGFyc2VkRGF0YSkpO1xuICBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSh7XG4gICAgdHlwZTogXCJTVE9SQUdFX1VQREFURVwiLFxuICAgIHBheWxvYWQ6IHtcbiAgICAgIGtleTogXCJzaG9wZWVEYXRhTGVuZ3RoXCIsXG4gICAgICB2YWx1ZTogcGFyc2VkRGF0YS5sZW5ndGgsXG4gICAgfSxcbiAgfSk7XG59XG5cbi8vIOWumuS5ieWumuaXtuWZqOebkeWQrOWHveaVsFxuZnVuY3Rpb24gbW9uaXRvckFuZEFkZEluZm8oZGF0YUxpc3QpIHtcbiAgaWYgKCFkYXRhTGlzdCB8fCBkYXRhTGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBpbnRlcnZhbCA9IDUwMDtcbiAgY29uc3QgbWF4SXRlbXMgPSA2MDtcbiAgbGV0IHByb2Nlc3NlZEl0ZW1zID0gbmV3IFNldCgpO1xuXG4gIGNvbnN0IHRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgY29uc3QgaXRlbUNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNob3Atc2VhcmNoLXJlc3VsdC12aWV3X19pdGVtJyk7XG5cbiAgICAgIGl0ZW1DYXJkcy5mb3JFYWNoKChpdGVtQ2FyZCwgaW5kZXgpID0+IHtcbiAgICAgICAgLy8g5L+u5aSNMe+8mua3u+WKoOaVsOaNruWtmOWcqOaAp+ajgOafpVxuICAgICAgICBjb25zdCBjYXJkRGF0YSA9IGRhdGFMaXN0W2luZGV4XTsgLy8g5L+u5aSN5Y+Y6YeP5aOw5piOXG4gICAgICAgIGlmICghY2FyZERhdGEpIHJldHVybjsgLy8g6Ziy5q2i5pWw5o2u6LaK55WMXG5cbiAgICAgICAgaWYgKHByb2Nlc3NlZEl0ZW1zLmhhcyhpdGVtQ2FyZCkpIHJldHVybjtcblxuICAgICAgICBjb25zdCBsb2NhdGlvbkNvbnRhaW5lciA9IGl0ZW1DYXJkLnF1ZXJ5U2VsZWN0b3IoJy50cmFuUHJpY2UnKTtcblxuICAgICAgICBpZiAobG9jYXRpb25Db250YWluZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHtjdGltZSwgc29sZCwgaGlzdG9yaWNhbF9zb2xkLCBsaWtlZF9jb3VudH0gPSBjYXJkRGF0YTsgLy8g5Y6f5aeL5bGe5oCn5ZCNXG4gICAgICAgICAgICBjb25zdCBjdGltZURhdGUgPSBuZXcgRGF0ZShjdGltZSAqIDEwMDApLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xuICAgICAgICAgICAgY29uc3QgaXNOZXcgPSBjdGltZURhdGUuc3RhcnRzV2l0aCgnMjAyNScpO1xuXG4gICAgICAgICAgICBjb25zdCBhZGRpdGlvbmFsSW5mb0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgYWRkaXRpb25hbEluZm9Db250YWluZXIuc3R5bGUubWFyZ2luVG9wID0gJzVweCc7IC8vIOa3u+WKoOS4gOS6m+mXtOi3nVxuICAgICAgICAgICAgYWRkaXRpb25hbEluZm9Db250YWluZXIuc3R5bGUuY29sb3IgPSBpc05ldz8ncmVkJzonIzc1NzU3NSc7IC8vIOiuvue9ruaWh+Wtl+minOiJslxuICAgICAgICAgICAgYWRkaXRpb25hbEluZm9Db250YWluZXIuc3R5bGUuZm9udFNpemUgPSAnMTJweCc7IC8vIOiuvue9ruaWh+Wtl+Wkp+Wwj1xuICAgICAgICAgICAgYWRkaXRpb25hbEluZm9Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnYWRkaXRpb25hbC1pbmZvJyk7IC8vIOa3u+WKoOS4gOS4quagh+ivhuexu++8jOaWueS+v+iwg+ivlVxuICAgICAgICAgICAgaWYgKGlzTmV3KSB7XG4gICAgICAgICAgICAgICAgYWRkaXRpb25hbEluZm9Db250YWluZXIuc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJzsgLy8g6K6+572u5Li657KX5L2TXG4gICAgICAgICAgICAgICAgYWRkaXRpb25hbEluZm9Db250YWluZXIuc3R5bGUuYm9yZGVyID0gJzFweCBzb2xpZCByZWQnOyAvLyDmt7vliqDovrnmoYZcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYWRkaXRpb25hbEluZm9Db250YWluZXIuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICAgIDxkaXY+5Yib5bu65pe26Ze0OiAke2N0aW1lRGF0ZX08L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PuacgOi/kemUgOmHjzogJHtzb2xkfTwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXY+5Y6G5Y+y6ZSA6YePOiAke2hpc3RvcmljYWxfc29sZH08L2Rpdj4gPCEtLSDkv67mraPlsZ7mgKflkI0gLS0+XG4gICAgICAgICAgICAgICAgPGRpdj7llpzmrKLmlbA6ICR7bGlrZWRfY291bnR9PC9kaXY+ICAgICAgPCEtLSDkv67mraPlsZ7mgKflkI0gLS0+XG4gICAgICAgICAgICBgO1xuXG4gICAgICAgICAgICBsb2NhdGlvbkNvbnRhaW5lci5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGFkZGl0aW9uYWxJbmZvQ29udGFpbmVyKTtcbiAgICAgICAgICAgIHByb2Nlc3NlZEl0ZW1zLmFkZChpdGVtQ2FyZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyDkv67lpI0z77ya5pS55Li65qC55o2u5bey5aSE55CG5pWw6YeP5Yik5patXG4gICAgICBpZiAocHJvY2Vzc2VkSXRlbXMuc2l6ZSA+PSBtYXhJdGVtcykge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCflt7LlpITnkIbllYblk4HljaHmlbDph486JywgcHJvY2Vzc2VkSXRlbXMuc2l6ZSk7XG4gICAgICB9XG4gIH0sIGludGVydmFsKTtcbn0iXSwibmFtZXMiOlsiemhpeGlhU3RvcmFnZUtleSIsImdldENoaW5hRGF0ZSIsInNob3BlZVN0b3JhZ2VLZXkiLCJTaXRlQ29uZmlnIiwiZ2V0U2l0ZUluZm9CeUhvc3QiLCJob3N0IiwicyIsImdldFByb2R1Y3RVcmwiLCJpdGVtSWQiLCJzaG9wSWQiLCJpdGVtTmFtZSIsInJlcXVlc3QiLCJzZW5kZXIiLCJzZW5kUmVzcG9uc2UiLCJ6aGl4aWFEYXRhTGVuZ3RoIiwic2hvcGVlRGF0YUxlbmd0aCIsInpoaXhpYURhdGEiLCJzaG9wZWVEYXRhIiwicGFyc2VkWmhpeGlhRGF0YSIsInBhcnNlZFNob3BlZURhdGEiLCJjc3ZDb250ZW50IiwiY29udmVydFRvQ1NWIiwiYmxvYiIsImxpbmsiLCJ1cmwiLCJrZXkiLCJldmVudCIsImV2ZW50RGF0YSIsInNob3BlZUhhbmRsZXIiLCJfYSIsIl9iIiwiZmlyc3RDYXRlZ29yeSIsInNlY29uZENhdGVnb3J5Iiwic2hvcGVlRGF0YU1hcCIsImFjYyIsIml0ZW0iLCJhcnIiLCJmaWVsZE1hcHBpbmciLCJoZWFkZXJzIiwiZiIsInJvd3MiLCJmaWVsZCIsInYiLCJ0aW1lIiwicmVzdWx0RGF0YSIsImhhbmRsZXJzIiwic2hvcGVlR2V0U2hvcFJjbWRMaXN0Iiwic2hvcGVlR2V0TGlzdCIsInNob3BlZUdldEhkTGlzdCIsImUiLCJsaXN0Iiwia2V5d29yZCIsInNpdGVOYW1lIiwiaW1nQmFzZSIsImRhdGEiLCJpdGVtX2Jhc2ljIiwiaXRlbV9kYXRhIiwiaXRlbV9jYXJkX2Rpc3BsYXllZF9hc3NldCIsInNvbGQiLCJoaXN0b3JpY2FsX3NvbGQiLCJzaG9wX2xvY2F0aW9uIiwiaXRlbWlkIiwicHJpY2UiLCJjdGltZSIsIm5hbWUiLCJpbWFnZSIsInByb2R1Y3RfdXJsIiwiaXRlbV9jYXJkX2Rpc3BsYXlfcHJpY2UiLCJzdG9yZVNob3BlZURhdGEiLCJtb25pdG9yQW5kQWRkSW5mbyIsIm5ld0RhdGEiLCJzdG9yZWREYXRhIiwicGFyc2VkRGF0YSIsIml0ZW1NYXAiLCJkYXRhTGlzdCIsImludGVydmFsIiwibWF4SXRlbXMiLCJwcm9jZXNzZWRJdGVtcyIsInRpbWVyIiwiaXRlbUNhcmQiLCJpbmRleCIsImNhcmREYXRhIiwibG9jYXRpb25Db250YWluZXIiLCJsaWtlZF9jb3VudCIsImN0aW1lRGF0ZSIsImlzTmV3IiwiYWRkaXRpb25hbEluZm9Db250YWluZXIiXSwibWFwcGluZ3MiOiJBQUdBLE1BQU1BLEVBQW1CLFVBQVVDLEVBQUEsQ0FBYyxHQUMzQ0MsRUFBbUIsVUFBVUQsRUFBQSxDQUFjLEdBRTNDRSxFQUFhLENBQ2pCLEdBQUksQ0FDRixTQUFVLEtBQ1YsS0FBTSxxQkFDTixRQUFTLDJDQUNYLEVBQ0EsU0FBVSxDQUNSLFNBQVUsT0FDVixLQUFNLGtCQUNOLFFBQVMsMkNBQ1gsRUFDQSxVQUFXLENBQ1QsU0FBVSxNQUNWLEtBQU0sa0JBQ04sUUFBUywyQ0FDWCxFQUNBLEdBQUksQ0FDRixTQUFVLE1BQ1YsS0FBTSxrQkFDTixRQUFTLDJDQUNY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
