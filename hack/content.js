const b=(e,t)=>{const s=new Blob(["\uFEFF"+e],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a");if(o.download!==void 0){const a=URL.createObjectURL(s);o.setAttribute("href",a),o.setAttribute("download",`${t}.csv`),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)}};function D(e){const t=Object.keys(e[0]).join(",")+`
`,s=e.map(o=>Object.values(o).map(a=>typeof a=="string"&&(a.includes(",")||a.includes(`
`))?`"${a}"`:a).join(",")).join(`
`);return t+s}const G=/^https:\/\/.*\.xiapibuy\.com\/.*-i\..*$/,L=()=>{const e=localStorage.getItem("detail_product_list"),t=JSON.parse(e||"[]"),s=t.find(o=>o.sold===void 0&&G.test(o.product_url));if(!s&&t.length){b(D(t),"detail_product_list");return}if(s){const o=s.product_url,a=s.item_id,r=`${o}?item_id=${a}`;window.open(r)}},I=e=>{const t=e.data.data.shop_detailed.account.username;t&&(location.pathname=`/${t}`)},P=e=>{const t=e.data.data.items,o=new URLSearchParams(window.location.search).get("item_id");if(!o)return;const a=t.find(({itemid:i})=>i==o),r=JSON.parse(localStorage.getItem("detail_product_list")||"[]");r.forEach(i=>{if(i.item_id===o)if(a){const{sold:h,historical_sold:l}=a;i.sold=h,i.historical_sold=l}else i.sold=-1,i.historical_sold=-1}),localStorage.setItem("detail_product_list",JSON.stringify(r)),L(),window.close()},A=`zhixia_${S()}`,y=`shopee_${S()}`,x={TW:{siteName:"台湾",host:"xiapi.xiapibuy.com",imgBase:"https://down-tw.img.susercontent.com/file"},MALAYSIA:{siteName:"马来西亚",host:"my.xiapibuy.com",imgBase:"https://down-my.img.susercontent.com/file"},SINGAPORE:{siteName:"新加坡",host:"sg.xiapibuy.com",imgBase:"https://down-sg.img.susercontent.com/file"},PH:{siteName:"菲律宾",host:"ph.xiapibuy.com",imgBase:"https://down-ph.img.susercontent.com/file"},VN:{siteName:"越南",host:"vn.xiapibuy.com",imgBase:"https://down-vn.img.susercontent.com/file"},TH:{siteName:"泰国",host:"th.xiapibuy.com",imgBase:"https://down-th.img.susercontent.com/file"}};function O(e){return Object.values(x).find(t=>e===t.host)||{}}function v({itemId:e,shopId:t,itemName:s}){if(!(!e||!t||!s))return`https://${location.host}/${s}-i.${t}.${e}`}chrome.runtime.onMessage.addListener((e,t,s)=>{if(e.type==="FROM_POPUP"){if(e.payload.classes==="search_download"){let o=0,a=0;if(e.payload.action==="download_csv"){const r=localStorage.getItem(A)||"[]",i=localStorage.getItem(y)||"[]",h=JSON.parse(r)||[],l=JSON.parse(i)||[];if(h.length>0||l.length>0){const p=T(h,l);b(p,y)}}if(e.payload.action==="clear"&&(Object.keys(localStorage).forEach(r=>{(r.startsWith("zhixia_")||r.startsWith("shopee_"))&&localStorage.removeItem(r)}),o=0,a=0),e.payload.action==="get_count"){const r=localStorage.getItem(A);r?o=(JSON.parse(r)||[]).length:o=0;const i=localStorage.getItem(y);i?a=(JSON.parse(i)||[]).length:a=0}s({type:"FROM_CONTENT",payload:{zhixiaDataLength:o,shopeeDataLength:a}})}e.payload.classes==="sale_script"&&(e.payload.action==="start"&&L(),e.payload.action)}return!0});window.addEventListener("message",function(e){try{const t=JSON.parse(e.data);t.code==="REQUEST_CODE"&&t.data&&t.data.request&&t.data.request.length&&R(t.data.request[0],t)}catch{console.error("Error parsing message data:",e.data)}},!1);function T(e,t){var p,m;const s=((p=document.querySelector(".shopee-category-list .shopee-category-list__main-category__link"))==null?void 0:p.innerText)||"",o=((m=document.querySelector(".shopee-category-list .shopee-category-list__sub-category--active"))==null?void 0:m.innerText)||"",a=t.reduce((n,d)=>(n[d.itemid]=d,n),{}),r=e.map(n=>({...n,...a[n.itemId],firstCategory:s,secondCategory:o})),i=[["imgUrl","图片"],["itemId","商品ID"],["product_url","商品链接/名称"],["catName","类目路径"],["ctime","上架时间"],["sold","总销量"],["sales","近1天销量"],["sales7Day","近7天销量"],["sales30Day","近30天销量"],["gmv30Day","近30天销售额"],["sales30Rate","近30天销量增长率"],["price","实际价格(shopee)"],["shopeeSold","最近30天销量(shopee)"],["shopeeHistoricalSold","历史销量(shopee)"],["shopeeLocation","店铺位置(shopee)"],["tranPrice","价格走势"],["likeCount","点赞数"],["ratingNum","评论数"],["ratingStar","商品评分"],["firstCategory","一级类目"],["keyword","关键词"],["siteName","站点"],["secondCategory","二级类目"],["type","信息来源"]],h=i.map(n=>n[1]),l=r.map(n=>i.map(([d])=>{var _;switch(d){case"tranPrice":return((_=n[d])==null?void 0:_.replace(/[￥~]/g,""))||"";case"sales30Rate":return`${n[d]}%`;case"product_url":return n.product_url||n.itemName;default:return n[d]??""}}).map(d=>`"${String(d).replace(/"/g,'""')}"`).join(","));return[h.join(","),...l].join(`
`)}function S(e=Date.now()){return new Date(e).toLocaleDateString("zh-CN",{timeZone:"Asia/Shanghai",year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"-")}function R(e,t){var o=[{rule:/^.*\/api\/v[0-9].*?\/shop\/rcmd_items/,handler:P},{rule:/^.*\/api\/v[0-9].*?\/pdp\/get_pc/,handler:I},{rule:/^.*\/api\/v[0-9].*?\/shop\/rcmd_items/,handler:H},{rule:/^.*\/api\/v[0-9].*?\/search\/search_items/,handler:c},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=pop.*?page_type=shop.*?/,handler:c},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=relevancy.*?page_type=search.*?&scenario=.*?/,handler:c},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=ctime.*?page_type=.*?&scenario=PAGE_GLOBAL_SEARCH.*/,handler:c},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=ctime.*?page_type=.*?&scenario=PAGE_OTHERS.*/,handler:c},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=sales.*&limit=30|60.*?page_type=.*?&scenario=PAGE_GLOBAL_SEARCH.*/,handler:c},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=sales.*&limit=30|60.*?page_type=.*?&scenario=PAGE_OTHERS.*/,handler:c},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=price.*?page_type=.*?&scenario=.*/,handler:c},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=pop.*?page_type=search.*?&scenario=PAGE_GLOBAL_SEARCH.*/,handler:c},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=pop.*?page_type=search.*?&scenario=PAGE_CATEGORY.*?/,handler:c},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=ctime.*?page_type=search.*?&scenario=PAGE_CATEGORY.*?/,handler:c},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=sales.*?page_type=search.*?&scenario=PAGE_CATEGORY.*?/,handler:c},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=pop.*?page_type=collection.*?&scenario=PAGE_COLLECTION.*/,handler:c},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=ctime.*?page_type=collection.*?&scenario=PAGE_COLLECTION.*/,handler:c},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=sales.*?page_type=collection.*?&scenario=PAGE_COLLECTION.*/,handler:c},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=price.*?page_type=collection.*?&scenario=PAGE_COLLECTION.*/,handler:c},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=relevancy.*?page_type=collection.*?&scenario=PAGE_COLLECTION.*/,handler:c},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=relevancy.*?page_type=search.*?&scenario=PAGE_CATEGORY.*/,handler:c},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=price.*?page_type=search.*?&scenario=PAGE_CATEGORY.*/,handler:c},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=pop.*?page_type=collection.*?&scenario=PAGE_GLOBAL_SEARCH.*/,handler:c},{rule:/^.*\/api\/v[0-9].*?\/search_items(\/)?\?by=relevancy.*?page_type=collection.*?&scenario=PAGE_GLOBAL_SEARCH.*/,handler:c},{rule:/^.*\/api\/v[0-9].*?\/recommend\/recommend_v2/,handler:$}].filter(function(a){return a.rule.test(e)});try{o[0].handler(t)}catch(a){a.toString()}}function c(e){var i;const t=e.data.items;if(t.length==0)return;const s=((i=document.querySelector(".shopee-searchbar-input input"))==null?void 0:i.value)||"",o=O(location.host).siteName,a=O(location.host).imgBase,r=t.map(h=>{const{item_basic:l,item_data:p,item_card_displayed_asset:m}=h;if(l){const{sold:n,historical_sold:d,shop_location:_,itemid:g,price:f,ctime:u,name:E,image:N}=l,w=v({itemId:g,shopId:l==null?void 0:l.shopid,itemName:E});return{shopeeSold:n,shopeeHistoricalSold:d,shopeeLocation:_,itemid:g,price:f/1e5,itemName:E,ctime:S(u*1e3),keyword:s,type:"搜索",product_url:w,img:`${a}/${N}`,siteName:o}}if(p){const{itemid:n,item_card_display_price:d,ctime:_}=p,g=v({itemId:n,shopId:p==null?void 0:p.shopid,itemName:m==null?void 0:m.name});return{shopeeSold:"-",shopeeHistoricalSold:"-",shopeeLocation:m.shop_location,itemid:n,price:d.price/1e5,itemName:m.name,ctime:S(_*1e3),keyword:s,type:"推荐-最热销",product_url:g,img:`${a}/${m.image}`,siteName:o}}});C(r)}function $(e){const t=e.data.data.units;if(t.length==0)return;const s=t.map(({item:o})=>{const{item_data:a,item_card_displayed_asset:r}=o,i=a.item_card_display_sold_count.monthly_sold_count,h=a.item_card_display_sold_count.historical_sold_count,l=a.shop_data.shop_location,p=a.item_card_display_price.item_id,m=a.item_card_display_price.price,n=v({itemId:p,shopId:a==null?void 0:a.shopid,itemName:r==null?void 0:r.name});return{sold:i,historical_sold:h,shop_location:l,itemid:p,price:m,product_url:n,type:"推荐-综合排名"}});C(s)}function H(e){B(e.data.data.items)}function C(e){const t=localStorage.getItem(y);let s=[];t&&(s=JSON.parse(t)||[]),s=[...s,...e];const o=new Map(s.map(a=>[a.itemid,a]));s=Array.from(o.values()),localStorage.setItem(y,JSON.stringify(s)),chrome.runtime.sendMessage({type:"STORAGE_UPDATE",payload:{key:"shopeeDataLength",value:s.length}})}function B(e){if(!e||e.length===0)return;const t=500,s=60;let o=new Set;const a=setInterval(()=>{document.querySelectorAll(".shop-search-result-view__item").forEach((i,h)=>{const l=e[h];if(!l||o.has(i))return;const p=i.querySelector(".tranPrice");if(p){const{ctime:m,sold:n,historical_sold:d,liked_count:_}=l,g=new Date(m*1e3).toLocaleDateString(),f=g.startsWith("2025"),u=document.createElement("div");u.style.marginTop="5px",u.style.color=f?"red":"#757575",u.style.fontSize="12px",u.classList.add("additional-info"),f&&(u.style.fontWeight="bold",u.style.border="1px solid red"),u.innerHTML=`
                <div>创建时间: ${g}</div>
                <div>最近销量: ${n}</div>
                <div>历史销量: ${d}</div> <!-- 修正属性名 -->
                <div>喜欢数: ${_}</div>      <!-- 修正属性名 -->
            `,p.parentNode.appendChild(u),o.add(i)}}),o.size>=s&&(clearInterval(a),console.log("已处理商品卡数量:",o.size))},t)}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udGVudC5qcyIsInNvdXJjZXMiOlsiLi4vaGFjay13b3Jrc3BhY2Uvc3JjL2NvbnRlbnQvdXRpbHMudHMiLCIuLi9oYWNrLXdvcmtzcGFjZS9zcmMvY29udGVudC9kZXRhaWwudHMiLCIuLi9oYWNrLXdvcmtzcGFjZS9zcmMvY29udGVudC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyDkuIvovb3mlbDmja7liLBjc3ZcbmV4cG9ydCBjb25zdCBkb3dubG9hZENTViA9IChjc3ZDb250ZW50OiBzdHJpbmcsIG5hbWU6IHN0cmluZykgPT4ge1xuICBjb25zdCBibG9iID0gbmV3IEJsb2IoW1wiXFx1RkVGRlwiICsgY3N2Q29udGVudF0sIHtcbiAgICB0eXBlOiBcInRleHQvY3N2O2NoYXJzZXQ9dXRmLTg7XCIsXG4gIH0pO1xuICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gIGlmIChsaW5rLmRvd25sb2FkICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgIGxpbmsuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCB1cmwpO1xuICAgIGxpbmsuc2V0QXR0cmlidXRlKFwiZG93bmxvYWRcIiwgYCR7bmFtZX0uY3N2YCk7XG4gICAgbGluay5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspO1xuICAgIGxpbmsuY2xpY2soKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xuICB9XG59O1xuXG4vLyDlsIYgSlNPTiDovazmjaLkuLogQ1NWXG5leHBvcnQgZnVuY3Rpb24ganNvbkxpc3RUb0Nzdihqc29uRGF0YTogUmVjb3JkPHN0cmluZywgYW55PltdKSB7XG4gIC8vIOiOt+WPliBDU1Yg55qE5aS06YOo77yI5a2X5q615ZCN77yJXG4gIGNvbnN0IGhlYWRlcnMgPSBPYmplY3Qua2V5cyhqc29uRGF0YVswXSkuam9pbihcIixcIikgKyBcIlxcblwiO1xuXG4gIC8vIOiOt+WPliBDU1Yg55qE5YaF5a6577yI5q+P6KGM5pWw5o2u77yJXG4gIGNvbnN0IHJvd3MgPSBqc29uRGF0YS5tYXAob2JqID0+IHtcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhvYmopLm1hcCh2YWx1ZSA9PiB7XG4gICAgICAvLyDlpoLmnpzlgLzkuK3ljIXlkKvpgJflj7fmiJbmjaLooYznrKbvvIzkvb/nlKjlj4zlvJXlj7fljIXoo7lcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgKHZhbHVlLmluY2x1ZGVzKFwiLFwiKSB8fCB2YWx1ZS5pbmNsdWRlcyhcIlxcblwiKSkpIHtcbiAgICAgICAgcmV0dXJuIGBcIiR7dmFsdWV9XCJgO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0pLmpvaW4oXCIsXCIpO1xuICB9KS5qb2luKFwiXFxuXCIpO1xuXG4gIC8vIOWQiOW5tuWktOmDqOWSjOWGheWuuVxuICByZXR1cm4gaGVhZGVycyArIHJvd3M7XG59IiwiLy8g5omT5byA6K+m5oOF6aG1XG4vLyAtIOiOt+WPlmxvY2Fsc3RvcmFnZeS4rWRldGFpbF9wcm9kdWN0X2xpc3TlrZfmrrXlubblj43op6PmnpBcbi8vIC0g5p+l6K+i56ys5LiA5Liqc29sZOWtl+auteS4unVuZGVmaW5lZOeahHByb2R1Y3RfdXJs5bm25ou85o6lcXVlcnnkv6Hmga9pdGVtX2lkXG4vLyAgIC0g6Iul5rKh5pyJ5YiZ57uT5p2fXG4vLyAtIOe7hOijhXByb2R1Y3RfZGV0YWlsX3VybCBgJHtwcm9kdWN0X3VybH0/aXRlbV9pZD0ke2l0ZW1faWR9YFxuXG5pbXBvcnQgeyBkb3dubG9hZENTViwganNvbkxpc3RUb0NzdiB9IGZyb20gXCIuL3V0aWxzXCI7XG5cbi8vIC0g5omT5byAd2luZG93Lm9wZW4ocHJvZHVjdF9kZXRhaWxfdXJsKVxuY29uc3QgUHJvZHVjdERldGFpbFVybFJlZ2V4ID0gL15odHRwczpcXC9cXC8uKlxcLnhpYXBpYnV5XFwuY29tXFwvLiotaVxcLi4qJC87XG5cbmV4cG9ydCBjb25zdCBvcGVuTmV4dERldGFpbCA9ICgpID0+IHtcbiAgY29uc3QgZGV0YWlsX3Byb2R1Y3RfbGlzdCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiZGV0YWlsX3Byb2R1Y3RfbGlzdFwiKVxuICBjb25zdCBkZXRhaWxQcm9kdWN0TGlzdCA9IEpTT04ucGFyc2UoZGV0YWlsX3Byb2R1Y3RfbGlzdCB8fCBcIltdXCIpO1xuICBjb25zdCBuZXh0UHJvZHVjdCA9IGRldGFpbFByb2R1Y3RMaXN0LmZpbmQoXG4gICAgKHByb2R1Y3Q6IGFueSkgPT4gcHJvZHVjdC5zb2xkID09PSB1bmRlZmluZWQgJiYgUHJvZHVjdERldGFpbFVybFJlZ2V4LnRlc3QocHJvZHVjdC5wcm9kdWN0X3VybClcbiAgKTtcbiAgaWYgKCFuZXh0UHJvZHVjdCAmJiBkZXRhaWxQcm9kdWN0TGlzdC5sZW5ndGgpIHtcbiAgICBkb3dubG9hZENTVihqc29uTGlzdFRvQ3N2KGRldGFpbFByb2R1Y3RMaXN0KSwgXCJkZXRhaWxfcHJvZHVjdF9saXN0XCIpXG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChuZXh0UHJvZHVjdCkge1xuICAgIGNvbnN0IHByb2R1Y3RVcmwgPSBuZXh0UHJvZHVjdC5wcm9kdWN0X3VybDtcbiAgICBjb25zdCBpdGVtSWQgPSBuZXh0UHJvZHVjdC5pdGVtX2lkO1xuICAgIGNvbnN0IHByb2R1Y3REZXRhaWxVcmwgPSBgJHtwcm9kdWN0VXJsfT9pdGVtX2lkPSR7aXRlbUlkfWA7XG4gICAgd2luZG93Lm9wZW4ocHJvZHVjdERldGFpbFVybCk7XG4gIH1cbn07XG5cbi8vIOWVhuivpumhtei3s+W6l+mTuumhtVxuLy8gLSDliqvmjIEvYXBpL3Y0L3BkcC9nZXRfcGPor7fmsYLvvIzojrflj5blupfpk7rlkI3np7BkYXRhLnNob3BfZGV0YWlsZWQuYWNjb3VudC51c2VybmFtZVxuLy8gLSDmm7/mjaJsb2NhdGlvbi5wYXRobmFtZSA9IC8ke3Nob3BfbmFtZX3kvJrkv53nlZlxdWVyeeS/oeaBr+i/m+ihjOi3s+i9rOWIsOW6l+mTuumhtVxuZXhwb3J0IGNvbnN0IHNob3BlZUp1bXBTaG9wID0gKHJlc3VsdERhdGE6IGFueSkgPT4ge1xuICBjb25zdCBzaG9wX25hbWUgPSByZXN1bHREYXRhLmRhdGEuZGF0YS5zaG9wX2RldGFpbGVkLmFjY291bnQudXNlcm5hbWU7XG4gIGlmICghc2hvcF9uYW1lKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxvY2F0aW9uLnBhdGhuYW1lID0gYC8ke3Nob3BfbmFtZX1gO1xufVxuXG4vLyDlupfpk7rpobXorrDlvZXplIDph49cbi8vIC0g5Yqr5oyBL2FwaS92NC9zaG9wL3JjbWRfaXRlbXPor7fmsYLvvIzojrflj5bmiYDmnInmjqjojZDliJfooajlvqrnjq/ojrflj5ZkYXRhLml0ZW1zXG4vLyAtIOS7jnF1ZXJ55Lit6I635Y+WaXRlbV9pZOS/oeaBr++8jOafpeaJvuWIsGl0ZW3or6bmg4XvvIzmj5Dlj5blh7pzb2xk5ZKMaGlzdG9yeV9zb2xkXG4vLyAtIOWwhuaVsOaNruWtmOWCqOWIsGxvY2Fsc3RvcmFnZeeahGRldGFpbF9wcm9kdWN0X2xpc3TkuK1cbmV4cG9ydCBjb25zdCBzaG9wZWVHZXRTb2xkSW5mbyA9IChyZXN1bHREYXRhOiBhbnkpID0+IHtcbiAgY29uc3QgaXRlbXMgPSByZXN1bHREYXRhLmRhdGEuZGF0YS5pdGVtc1xuICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuICBjb25zdCBpdGVtX2lkID0gcGFyYW1zLmdldCgnaXRlbV9pZCcpXG4gIGlmICghaXRlbV9pZCkge1xuICAgIHJldHVyblxuICB9XG4gIGNvbnN0IGl0ZW0gPSBpdGVtcy5maW5kKCh7aXRlbWlkfToge2l0ZW1pZDogc3RyaW5nfSkgPT4gaXRlbWlkID09IGl0ZW1faWQpXG5cbiAgY29uc3QgZGV0YWlsUHJvZHVjdExpc3QgPSBKU09OLnBhcnNlKFxuICAgIGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiZGV0YWlsX3Byb2R1Y3RfbGlzdFwiKSB8fCBcIltdXCJcbiAgKTtcbiAgZGV0YWlsUHJvZHVjdExpc3QuZm9yRWFjaCgocHJvZHVjdDogYW55KSA9PiB7XG4gICAgaWYgKHByb2R1Y3QuaXRlbV9pZCA9PT0gaXRlbV9pZCkge1xuICAgICAgaWYoaXRlbSl7XG4gICAgICAgIGNvbnN0IHtzb2xkLCBoaXN0b3JpY2FsX3NvbGR9ID0gaXRlbVxuICAgICAgICBwcm9kdWN0LnNvbGQgPSBzb2xkXG4gICAgICAgIHByb2R1Y3QuaGlzdG9yaWNhbF9zb2xkID0gaGlzdG9yaWNhbF9zb2xkXG4gICAgICB9ZWxzZXtcbiAgICAgICAgcHJvZHVjdC5zb2xkID0gLTFcbiAgICAgICAgcHJvZHVjdC5oaXN0b3JpY2FsX3NvbGQgPSAtMVxuICAgICAgfVxuICAgIH1cbiAgfSlcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJkZXRhaWxfcHJvZHVjdF9saXN0XCIsIEpTT04uc3RyaW5naWZ5KGRldGFpbFByb2R1Y3RMaXN0KSlcblxuICAvLyDmiZPlvIDkuIvkuIDkuKrllYblk4HvvIzlubblhbPpl63kuIrkuIDkuKrmoIfnrb7pobVcbiAgb3Blbk5leHREZXRhaWwoKVxuICB3aW5kb3cuY2xvc2UoKVxufSIsIi8vIEB0cy1ub2NoZWNrIOi/geenu++8jOWQjue7reWGjeaJk+W8gFxuaW1wb3J0IHtzaG9wZWVKdW1wU2hvcCwgb3Blbk5leHREZXRhaWwsIHNob3BlZUdldFNvbGRJbmZvfSBmcm9tICcuL2NvbnRlbnQvZGV0YWlsJ1xuaW1wb3J0IHtkb3dubG9hZENTVn0gZnJvbSAnLi9jb250ZW50L3V0aWxzJ1xuLy8g6I635Y+W5b2T5aSp55qE5a2Y5YKo6ZSu5ZCNXG5jb25zdCB6aGl4aWFTdG9yYWdlS2V5ID0gYHpoaXhpYV8ke2dldENoaW5hRGF0ZSgpfWA7XG5jb25zdCBzaG9wZWVTdG9yYWdlS2V5ID0gYHNob3BlZV8ke2dldENoaW5hRGF0ZSgpfWA7XG5cbmNvbnN0IFNpdGVDb25maWcgPSB7XG4gIFRXOiB7XG4gICAgc2l0ZU5hbWU6IFwi5Y+w5rm+XCIsXG4gICAgaG9zdDogXCJ4aWFwaS54aWFwaWJ1eS5jb21cIixcbiAgICBpbWdCYXNlOiBcImh0dHBzOi8vZG93bi10dy5pbWcuc3VzZXJjb250ZW50LmNvbS9maWxlXCIsXG4gIH0sXG4gIE1BTEFZU0lBOiB7XG4gICAgc2l0ZU5hbWU6IFwi6ams5p2l6KW/5LqaXCIsXG4gICAgaG9zdDogXCJteS54aWFwaWJ1eS5jb21cIixcbiAgICBpbWdCYXNlOiBcImh0dHBzOi8vZG93bi1teS5pbWcuc3VzZXJjb250ZW50LmNvbS9maWxlXCIsXG4gIH0sXG4gIFNJTkdBUE9SRToge1xuICAgIHNpdGVOYW1lOiBcIuaWsOWKoOWdoVwiLFxuICAgIGhvc3Q6IFwic2cueGlhcGlidXkuY29tXCIsXG4gICAgaW1nQmFzZTogXCJodHRwczovL2Rvd24tc2cuaW1nLnN1c2VyY29udGVudC5jb20vZmlsZVwiLFxuICB9LFxuICBQSDoge1xuICAgIHNpdGVOYW1lOiBcIuiPsuW+i+WuvlwiLFxuICAgIGhvc3Q6IFwicGgueGlhcGlidXkuY29tXCIsXG4gICAgaW1nQmFzZTogXCJodHRwczovL2Rvd24tcGguaW1nLnN1c2VyY29udGVudC5jb20vZmlsZVwiLFxuICB9LFxuICBWTjoge1xuICAgIHNpdGVOYW1lOiBcIui2iuWNl1wiLFxuICAgIGhvc3Q6IFwidm4ueGlhcGlidXkuY29tXCIsXG4gICAgaW1nQmFzZTogXCJodHRwczovL2Rvd24tdm4uaW1nLnN1c2VyY29udGVudC5jb20vZmlsZVwiLFxuICB9LFxuICBUSDoge1xuICAgIHNpdGVOYW1lOiBcIuazsOWbvVwiLFxuICAgIGhvc3Q6IFwidGgueGlhcGlidXkuY29tXCIsXG4gICAgaW1nQmFzZTogXCJodHRwczovL2Rvd24tdGguaW1nLnN1c2VyY29udGVudC5jb20vZmlsZVwiLFxuICB9LFxufTtcblxuLy8g5qC55o2u572R6aG1IGhvc3Qg6I635Y+W56uZ54K55ZCN56ewXG5mdW5jdGlvbiBnZXRTaXRlSW5mb0J5SG9zdChob3N0KSB7XG4gIHJldHVybiBPYmplY3QudmFsdWVzKFNpdGVDb25maWcpLmZpbmQoKHMpID0+IGhvc3QgPT09IHMuaG9zdCkgfHwge307XG59XG5cbi8vIOagueaNruiOt+WPluWVhuWTgemTvuaOpVxuZnVuY3Rpb24gZ2V0UHJvZHVjdFVybCh7IGl0ZW1JZCwgc2hvcElkLCBpdGVtTmFtZSB9KSB7XG4gIGlmICghaXRlbUlkIHx8ICFzaG9wSWQgfHwgIWl0ZW1OYW1lKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHJldHVybiBgaHR0cHM6Ly8ke2xvY2F0aW9uLmhvc3R9LyR7aXRlbU5hbWV9LWkuJHtzaG9wSWR9LiR7aXRlbUlkfWA7XG59XG5cbi8vIGNvbnRlbnQuanMg5o6l5pS2cG9wdXDmk43kvZzmtojmga9cbmNocm9tZS5ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcigocmVxdWVzdCwgc2VuZGVyLCBzZW5kUmVzcG9uc2UpID0+IHtcbiAgaWYgKHJlcXVlc3QudHlwZSA9PT0gXCJGUk9NX1BPUFVQXCIpIHtcbiAgICAvLyDmkJzntKIr5om56YeP5LiL6L295pWw5o2u5L+h5oGvXG4gICAgaWYgKHJlcXVlc3QucGF5bG9hZC5jbGFzc2VzID09PSBcInNlYXJjaF9kb3dubG9hZFwiKSB7XG4gICAgICBsZXQgemhpeGlhRGF0YUxlbmd0aCA9IDA7XG4gICAgICBsZXQgc2hvcGVlRGF0YUxlbmd0aCA9IDA7XG4gICAgICBpZiAocmVxdWVzdC5wYXlsb2FkLmFjdGlvbiA9PT0gXCJkb3dubG9hZF9jc3ZcIikge1xuICAgICAgICBjb25zdCB6aGl4aWFEYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oemhpeGlhU3RvcmFnZUtleSkgfHwgXCJbXVwiO1xuICAgICAgICBjb25zdCBzaG9wZWVEYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oc2hvcGVlU3RvcmFnZUtleSkgfHwgXCJbXVwiO1xuICBcbiAgICAgICAgY29uc3QgcGFyc2VkWmhpeGlhRGF0YSA9IEpTT04ucGFyc2UoemhpeGlhRGF0YSkgfHwgW107XG4gICAgICAgIGNvbnN0IHBhcnNlZFNob3BlZURhdGEgPSBKU09OLnBhcnNlKHNob3BlZURhdGEpIHx8IFtdO1xuICBcbiAgICAgICAgaWYgKHBhcnNlZFpoaXhpYURhdGEubGVuZ3RoID4gMCB8fCBwYXJzZWRTaG9wZWVEYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAvLyDlsIbmlbDmja7ovazmjaLkuLogQ1NWIOagvOW8j1xuICAgICAgICAgIGNvbnN0IGNzdkNvbnRlbnQgPSBjb252ZXJ0VG9DU1YocGFyc2VkWmhpeGlhRGF0YSwgcGFyc2VkU2hvcGVlRGF0YSk7XG4gICAgICAgICAgZG93bmxvYWRDU1YoY3N2Q29udGVudCwgc2hvcGVlU3RvcmFnZUtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChyZXF1ZXN0LnBheWxvYWQuYWN0aW9uID09PSBcImNsZWFyXCIpIHtcbiAgICAgICAgLy8g5riF56m65omA5pyJemhpeGlhX+WSjHNob3BlZV/lvIDlpLTnmoTlrZjlgqhcbiAgICAgICAgT2JqZWN0LmtleXMobG9jYWxTdG9yYWdlKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgaWYgKGtleS5zdGFydHNXaXRoKCd6aGl4aWFfJykgfHwga2V5LnN0YXJ0c1dpdGgoJ3Nob3BlZV8nKSkge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB6aGl4aWFEYXRhTGVuZ3RoID0gMDtcbiAgICAgICAgc2hvcGVlRGF0YUxlbmd0aCA9IDA7XG4gICAgICB9XG4gICAgICBpZiAocmVxdWVzdC5wYXlsb2FkLmFjdGlvbiA9PT0gXCJnZXRfY291bnRcIikge1xuICAgICAgICBjb25zdCB6aGl4aWFEYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oemhpeGlhU3RvcmFnZUtleSk7XG4gICAgICAgIGlmICh6aGl4aWFEYXRhKSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkRGF0YSA9IEpTT04ucGFyc2UoemhpeGlhRGF0YSkgfHwgW107XG4gICAgICAgICAgemhpeGlhRGF0YUxlbmd0aCA9IHBhcnNlZERhdGEubGVuZ3RoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHpoaXhpYURhdGFMZW5ndGggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNob3BlZURhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzaG9wZWVTdG9yYWdlS2V5KTtcbiAgICAgICAgaWYgKHNob3BlZURhdGEpIHtcbiAgICAgICAgICBjb25zdCBwYXJzZWREYXRhID0gSlNPTi5wYXJzZShzaG9wZWVEYXRhKSB8fCBbXTtcbiAgICAgICAgICBzaG9wZWVEYXRhTGVuZ3RoID0gcGFyc2VkRGF0YS5sZW5ndGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2hvcGVlRGF0YUxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNlbmRSZXNwb25zZSh7XG4gICAgICAgIHR5cGU6IFwiRlJPTV9DT05URU5UXCIsXG4gICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICB6aGl4aWFEYXRhTGVuZ3RoLFxuICAgICAgICAgIHNob3BlZURhdGFMZW5ndGgsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG4gICAgLy8g6ZSA6YeP6ISa5pysXG4gICAgaWYgKHJlcXVlc3QucGF5bG9hZC5jbGFzc2VzID09PSBcInNhbGVfc2NyaXB0XCIpIHtcbiAgICAgIGlmIChyZXF1ZXN0LnBheWxvYWQuYWN0aW9uID09PSBcInN0YXJ0XCIpIHtcbiAgICAgICAgLy8g5byA5aeL5omn6KGM6ISa5pysXG4gICAgICAgIG9wZW5OZXh0RGV0YWlsKCk7XG4gICAgICB9XG4gICAgICBpZiAocmVxdWVzdC5wYXlsb2FkLmFjdGlvbiA9PT0gXCJzdG9wXCIpIHtcbiAgICAgICAgLy8g5YGc5q2i5omn6KGM6ISa5pysXG4gICAgICB9XG4gICAgICBcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7IC8vIOS/neaMgemVv+i/nuaOpVxufSk7XG5cbi8vIOWKq+aMgXNob3BlZeivt+axglxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXG4gIFwibWVzc2FnZVwiLFxuICBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAvLyDnoa7kv53mtojmga/mnaXmupDmmK/lvZPliY3nqpflj6NcbiAgICB0cnkge1xuICAgICAgLy8g6Kej5p6Q5o6l5pS25Yiw55qE5raI5oGv5pWw5o2uXG4gICAgICBjb25zdCBldmVudERhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xuXG4gICAgICBpZiAoZXZlbnREYXRhLmNvZGUgPT09IFwiUkVRVUVTVF9DT0RFXCIpIHtcbiAgICAgICAgLy8g5aSE55CG5o6l5pS25Yiw55qE5pWw5o2uXG4gICAgICAgIGlmIChcbiAgICAgICAgICBldmVudERhdGEuZGF0YSAmJlxuICAgICAgICAgIGV2ZW50RGF0YS5kYXRhLnJlcXVlc3QgJiZcbiAgICAgICAgICBldmVudERhdGEuZGF0YS5yZXF1ZXN0Lmxlbmd0aFxuICAgICAgICApIHtcbiAgICAgICAgICBzaG9wZWVIYW5kbGVyKGV2ZW50RGF0YS5kYXRhLnJlcXVlc3RbMF0sIGV2ZW50RGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8g6L+Z6YeM5Y+v5Lul5re75Yqg5L2g5aSE55CG5pWw5o2u55qE6YC76L6RXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBwYXJzaW5nIG1lc3NhZ2UgZGF0YTpcIiwgZXZlbnQuZGF0YSk7XG4gICAgfVxuICB9LFxuICBmYWxzZVxuKTtcblxuLy8g5bCG5pWw57uE6L2s5o2i5Li6IENTViDmoLzlvI9cbmZ1bmN0aW9uIGNvbnZlcnRUb0NTVih6aGl4aWFEYXRhLCBzaG9wZWVEYXRhKSB7XG4gIGNvbnN0IGZpcnN0Q2F0ZWdvcnkgPVxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5zaG9wZWUtY2F0ZWdvcnktbGlzdCAuc2hvcGVlLWNhdGVnb3J5LWxpc3RfX21haW4tY2F0ZWdvcnlfX2xpbmtcIlxuICAgICk/LmlubmVyVGV4dCB8fCBcIlwiO1xuICBjb25zdCBzZWNvbmRDYXRlZ29yeSA9XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLnNob3BlZS1jYXRlZ29yeS1saXN0IC5zaG9wZWUtY2F0ZWdvcnktbGlzdF9fc3ViLWNhdGVnb3J5LS1hY3RpdmVcIlxuICAgICk/LmlubmVyVGV4dCB8fCBcIlwiO1xuXG4gIGNvbnN0IHNob3BlZURhdGFNYXAgPSBzaG9wZWVEYXRhLnJlZHVjZSgoYWNjLCBpdGVtKSA9PiB7XG4gICAgYWNjW2l0ZW0uaXRlbWlkXSA9IGl0ZW07XG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30pO1xuICBjb25zdCBhcnIgPSB6aGl4aWFEYXRhLm1hcCgoaXRlbSkgPT4ge1xuICAgIC8vIOS8mOWFiOS9v+eUqHNob3BlZeaVsOaNrlxuICAgIHJldHVybiB7XG4gICAgICAuLi5pdGVtLFxuICAgICAgLi4uc2hvcGVlRGF0YU1hcFtpdGVtLml0ZW1JZF0sXG4gICAgICBmaXJzdENhdGVnb3J5LFxuICAgICAgc2Vjb25kQ2F0ZWdvcnksXG4gICAgfTtcbiAgfSk7XG5cbiAgLy8g5a6a5LmJ5Zu65a6a5YiX6aG65bqP77yI5qC55o2u5a6e6ZmF5pWw5o2u57uT5p6E6LCD5pW077yJXG4gIGNvbnN0IGZpZWxkTWFwcGluZyA9IFtcbiAgICBbXCJpbWdVcmxcIiwgXCLlm77niYdcIl0sXG4gICAgW1wiaXRlbUlkXCIsIFwi5ZWG5ZOBSURcIl0sXG4gICAgW1wicHJvZHVjdF91cmxcIiwgXCLllYblk4Hpk77mjqUv5ZCN56ewXCJdLFxuICAgIFtcImNhdE5hbWVcIiwgXCLnsbvnm67ot6/lvoRcIl0sXG4gICAgW1wiY3RpbWVcIiwgXCLkuIrmnrbml7bpl7RcIl0sXG4gICAgW1wic29sZFwiLCBcIuaAu+mUgOmHj1wiXSxcbiAgICBbXCJzYWxlc1wiLCBcIui/kTHlpKnplIDph49cIl0sXG4gICAgW1wic2FsZXM3RGF5XCIsIFwi6L+RN+WkqemUgOmHj1wiXSxcbiAgICBbXCJzYWxlczMwRGF5XCIsIFwi6L+RMzDlpKnplIDph49cIl0sXG4gICAgW1wiZ212MzBEYXlcIiwgXCLov5EzMOWkqemUgOWUruminVwiXSxcbiAgICBbXCJzYWxlczMwUmF0ZVwiLCBcIui/kTMw5aSp6ZSA6YeP5aKe6ZW/546HXCJdLFxuICAgIFtcInByaWNlXCIsIFwi5a6e6ZmF5Lu35qC8KHNob3BlZSlcIl0sXG4gICAgW1wic2hvcGVlU29sZFwiLCBcIuacgOi/kTMw5aSp6ZSA6YePKHNob3BlZSlcIl0sXG4gICAgW1wic2hvcGVlSGlzdG9yaWNhbFNvbGRcIiwgXCLljoblj7LplIDph48oc2hvcGVlKVwiXSxcbiAgICBbXCJzaG9wZWVMb2NhdGlvblwiLCBcIuW6l+mTuuS9jee9rihzaG9wZWUpXCJdLFxuICAgIFtcInRyYW5QcmljZVwiLCBcIuS7t+agvOi1sOWKv1wiXSxcbiAgICBbXCJsaWtlQ291bnRcIiwgXCLngrnotZ7mlbBcIl0sXG4gICAgW1wicmF0aW5nTnVtXCIsIFwi6K+E6K665pWwXCJdLFxuICAgIFtcInJhdGluZ1N0YXJcIiwgXCLllYblk4Hor4TliIZcIl0sXG4gICAgW1wiZmlyc3RDYXRlZ29yeVwiLCBcIuS4gOe6p+exu+ebrlwiXSxcbiAgICBbXCJrZXl3b3JkXCIsIFwi5YWz6ZSu6K+NXCJdLFxuICAgIFtcInNpdGVOYW1lXCIsIFwi56uZ54K5XCJdLFxuICAgIFtcInNlY29uZENhdGVnb3J5XCIsIFwi5LqM57qn57G755uuXCJdLFxuICAgIFtcInR5cGVcIiwgXCLkv6Hmga/mnaXmupBcIl1cbiAgXTtcbiAgY29uc3QgaGVhZGVycyA9IGZpZWxkTWFwcGluZy5tYXAoKGYpID0+IGZbMV0pO1xuICAvLyDliJvlu7ogQ1NWIOWGheWuuVxuICBjb25zdCByb3dzID0gYXJyLm1hcCgoaXRlbSkgPT4ge1xuICAgIHJldHVybiBmaWVsZE1hcHBpbmdcbiAgICAgIC5tYXAoKFtmaWVsZF0pID0+IHtcbiAgICAgICAgLy8g54m55q6K5a2X5q615aSE55CGXG4gICAgICAgIHN3aXRjaCAoZmllbGQpIHtcbiAgICAgICAgICBjYXNlIFwidHJhblByaWNlXCI6XG4gICAgICAgICAgICByZXR1cm4gaXRlbVtmaWVsZF0/LnJlcGxhY2UoL1vvv6V+XS9nLCBcIlwiKSB8fCBcIlwiO1xuICAgICAgICAgIGNhc2UgXCJzYWxlczMwUmF0ZVwiOlxuICAgICAgICAgICAgcmV0dXJuIGAke2l0ZW1bZmllbGRdfSVgO1xuICAgICAgICAgIGNhc2UgXCJwcm9kdWN0X3VybFwiOlxuICAgICAgICAgICAgcmV0dXJuIGl0ZW0ucHJvZHVjdF91cmwgfHwgaXRlbS5pdGVtTmFtZTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGl0ZW1bZmllbGRdID8/IFwiXCI7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAubWFwKCh2KSA9PiBgXCIke1N0cmluZyh2KS5yZXBsYWNlKC9cIi9nLCAnXCJcIicpfVwiYClcbiAgICAgIC5qb2luKFwiLFwiKTtcbiAgfSk7XG5cbiAgcmV0dXJuIFtoZWFkZXJzLmpvaW4oXCIsXCIpLCAuLi5yb3dzXS5qb2luKFwiXFxuXCIpO1xufVxuXG4vLyDojrflj5blvZPliY3kuK3lm73ml6XmnJ9cbmZ1bmN0aW9uIGdldENoaW5hRGF0ZSh0aW1lID0gRGF0ZS5ub3coKSkge1xuICByZXR1cm4gbmV3IERhdGUodGltZSlcbiAgICAudG9Mb2NhbGVEYXRlU3RyaW5nKFwiemgtQ05cIiwge1xuICAgICAgdGltZVpvbmU6IFwiQXNpYS9TaGFuZ2hhaVwiLFxuICAgICAgeWVhcjogXCJudW1lcmljXCIsXG4gICAgICBtb250aDogXCIyLWRpZ2l0XCIsXG4gICAgICBkYXk6IFwiMi1kaWdpdFwiLFxuICAgIH0pXG4gICAgLnJlcGxhY2UoL1xcLy9nLCBcIi1cIik7IC8vIOi+k+WHuuagvOW8j++8mnl5eXktbW0tZGRcbn1cblxuLyoqXG4gKiDnvZHlhbPliIblj5FcbiAqIEBwYXJhbSB1cmxcbiAqIEBwYXJhbSByZXN1bHREYXRhXG4gKi9cbmZ1bmN0aW9uIHNob3BlZUhhbmRsZXIodXJsLCByZXN1bHREYXRhKSB7XG4gIGxldCBydWxlcyA9IFtcbiAgICB7XG4gICAgICBydWxlOiAvXi4qXFwvYXBpXFwvdlswLTldLio/XFwvc2hvcFxcL3JjbWRfaXRlbXMvLFxuICAgICAgaGFuZGxlcjogc2hvcGVlR2V0U29sZEluZm8sXG4gICAgfSxcbiAgICB7XG4gICAgICBydWxlOiAvXi4qXFwvYXBpXFwvdlswLTldLio/XFwvcGRwXFwvZ2V0X3BjLyxcbiAgICAgIGhhbmRsZXI6IHNob3BlZUp1bXBTaG9wLFxuICAgIH0sXG4gICAge1xuICAgICAgcnVsZTogL14uKlxcL2FwaVxcL3ZbMC05XS4qP1xcL3Nob3BcXC9yY21kX2l0ZW1zLyxcbiAgICAgIGhhbmRsZXI6IHNob3BlZUdldFNob3BSY21kTGlzdCxcbiAgICB9LFxuICAgIHtcbiAgICAgIHJ1bGU6IC9eLipcXC9hcGlcXC92WzAtOV0uKj9cXC9zZWFyY2hcXC9zZWFyY2hfaXRlbXMvLFxuICAgICAgaGFuZGxlcjogc2hvcGVlR2V0TGlzdCxcbiAgICB9LFxuICAgIHtcbiAgICAgIHJ1bGU6IC9eLipcXC9hcGlcXC92WzAtOV0uKj9cXC9zZWFyY2hfaXRlbXMoXFwvKT9cXD9ieT1wb3AuKj9wYWdlX3R5cGU9c2hvcC4qPy8sXG4gICAgICBoYW5kbGVyOiBzaG9wZWVHZXRMaXN0LFxuICAgIH0sXG4gICAge1xuICAgICAgcnVsZTogL14uKlxcL2FwaVxcL3ZbMC05XS4qP1xcL3NlYXJjaF9pdGVtcyhcXC8pP1xcP2J5PXJlbGV2YW5jeS4qP3BhZ2VfdHlwZT1zZWFyY2guKj8mc2NlbmFyaW89Lio/LyxcbiAgICAgIGhhbmRsZXI6IHNob3BlZUdldExpc3QsXG4gICAgfSxcbiAgICB7XG4gICAgICBydWxlOiAvXi4qXFwvYXBpXFwvdlswLTldLio/XFwvc2VhcmNoX2l0ZW1zKFxcLyk/XFw/Ynk9Y3RpbWUuKj9wYWdlX3R5cGU9Lio/JnNjZW5hcmlvPVBBR0VfR0xPQkFMX1NFQVJDSC4qLyxcbiAgICAgIGhhbmRsZXI6IHNob3BlZUdldExpc3QsXG4gICAgfSxcbiAgICB7XG4gICAgICBydWxlOiAvXi4qXFwvYXBpXFwvdlswLTldLio/XFwvc2VhcmNoX2l0ZW1zKFxcLyk/XFw/Ynk9Y3RpbWUuKj9wYWdlX3R5cGU9Lio/JnNjZW5hcmlvPVBBR0VfT1RIRVJTLiovLFxuICAgICAgaGFuZGxlcjogc2hvcGVlR2V0TGlzdCxcbiAgICB9LFxuICAgIHtcbiAgICAgIHJ1bGU6IC9eLipcXC9hcGlcXC92WzAtOV0uKj9cXC9zZWFyY2hfaXRlbXMoXFwvKT9cXD9ieT1zYWxlcy4qJmxpbWl0PTMwfDYwLio/cGFnZV90eXBlPS4qPyZzY2VuYXJpbz1QQUdFX0dMT0JBTF9TRUFSQ0guKi8sXG4gICAgICBoYW5kbGVyOiBzaG9wZWVHZXRMaXN0LFxuICAgIH0sXG4gICAge1xuICAgICAgcnVsZTogL14uKlxcL2FwaVxcL3ZbMC05XS4qP1xcL3NlYXJjaF9pdGVtcyhcXC8pP1xcP2J5PXNhbGVzLiombGltaXQ9MzB8NjAuKj9wYWdlX3R5cGU9Lio/JnNjZW5hcmlvPVBBR0VfT1RIRVJTLiovLFxuICAgICAgaGFuZGxlcjogc2hvcGVlR2V0TGlzdCxcbiAgICB9LFxuICAgIHtcbiAgICAgIHJ1bGU6IC9eLipcXC9hcGlcXC92WzAtOV0uKj9cXC9zZWFyY2hfaXRlbXMoXFwvKT9cXD9ieT1wcmljZS4qP3BhZ2VfdHlwZT0uKj8mc2NlbmFyaW89LiovLFxuICAgICAgaGFuZGxlcjogc2hvcGVlR2V0TGlzdCxcbiAgICB9LFxuICAgIHtcbiAgICAgIHJ1bGU6IC9eLipcXC9hcGlcXC92WzAtOV0uKj9cXC9zZWFyY2hfaXRlbXMoXFwvKT9cXD9ieT1wb3AuKj9wYWdlX3R5cGU9c2VhcmNoLio/JnNjZW5hcmlvPVBBR0VfR0xPQkFMX1NFQVJDSC4qLyxcbiAgICAgIGhhbmRsZXI6IHNob3BlZUdldExpc3QsXG4gICAgfSxcbiAgICB7XG4gICAgICBydWxlOiAvXi4qXFwvYXBpXFwvdlswLTldLio/XFwvc2VhcmNoX2l0ZW1zKFxcLyk/XFw/Ynk9cG9wLio/cGFnZV90eXBlPXNlYXJjaC4qPyZzY2VuYXJpbz1QQUdFX0NBVEVHT1JZLio/LyxcbiAgICAgIGhhbmRsZXI6IHNob3BlZUdldExpc3QsXG4gICAgfSxcbiAgICB7XG4gICAgICBydWxlOiAvXi4qXFwvYXBpXFwvdlswLTldLio/XFwvc2VhcmNoX2l0ZW1zKFxcLyk/XFw/Ynk9Y3RpbWUuKj9wYWdlX3R5cGU9c2VhcmNoLio/JnNjZW5hcmlvPVBBR0VfQ0FURUdPUlkuKj8vLFxuICAgICAgaGFuZGxlcjogc2hvcGVlR2V0TGlzdCxcbiAgICB9LFxuICAgIHtcbiAgICAgIHJ1bGU6IC9eLipcXC9hcGlcXC92WzAtOV0uKj9cXC9zZWFyY2hfaXRlbXMoXFwvKT9cXD9ieT1zYWxlcy4qP3BhZ2VfdHlwZT1zZWFyY2guKj8mc2NlbmFyaW89UEFHRV9DQVRFR09SWS4qPy8sXG4gICAgICBoYW5kbGVyOiBzaG9wZWVHZXRMaXN0LFxuICAgIH0sXG4gICAge1xuICAgICAgcnVsZTogL14uKlxcL2FwaVxcL3ZbMC05XS4qP1xcL3NlYXJjaF9pdGVtcyhcXC8pP1xcP2J5PXBvcC4qP3BhZ2VfdHlwZT1jb2xsZWN0aW9uLio/JnNjZW5hcmlvPVBBR0VfQ09MTEVDVElPTi4qLyxcbiAgICAgIGhhbmRsZXI6IHNob3BlZUdldExpc3QsXG4gICAgfSxcbiAgICB7XG4gICAgICBydWxlOiAvXi4qXFwvYXBpXFwvdlswLTldLio/XFwvc2VhcmNoX2l0ZW1zKFxcLyk/XFw/Ynk9Y3RpbWUuKj9wYWdlX3R5cGU9Y29sbGVjdGlvbi4qPyZzY2VuYXJpbz1QQUdFX0NPTExFQ1RJT04uKi8sXG4gICAgICBoYW5kbGVyOiBzaG9wZWVHZXRMaXN0LFxuICAgIH0sXG4gICAge1xuICAgICAgcnVsZTogL14uKlxcL2FwaVxcL3ZbMC05XS4qP1xcL3NlYXJjaF9pdGVtcyhcXC8pP1xcP2J5PXNhbGVzLio/cGFnZV90eXBlPWNvbGxlY3Rpb24uKj8mc2NlbmFyaW89UEFHRV9DT0xMRUNUSU9OLiovLFxuICAgICAgaGFuZGxlcjogc2hvcGVlR2V0TGlzdCxcbiAgICB9LFxuICAgIHtcbiAgICAgIHJ1bGU6IC9eLipcXC9hcGlcXC92WzAtOV0uKj9cXC9zZWFyY2hfaXRlbXMoXFwvKT9cXD9ieT1wcmljZS4qP3BhZ2VfdHlwZT1jb2xsZWN0aW9uLio/JnNjZW5hcmlvPVBBR0VfQ09MTEVDVElPTi4qLyxcbiAgICAgIGhhbmRsZXI6IHNob3BlZUdldExpc3QsXG4gICAgfSxcbiAgICB7XG4gICAgICBydWxlOiAvXi4qXFwvYXBpXFwvdlswLTldLio/XFwvc2VhcmNoX2l0ZW1zKFxcLyk/XFw/Ynk9cmVsZXZhbmN5Lio/cGFnZV90eXBlPWNvbGxlY3Rpb24uKj8mc2NlbmFyaW89UEFHRV9DT0xMRUNUSU9OLiovLFxuICAgICAgaGFuZGxlcjogc2hvcGVlR2V0TGlzdCxcbiAgICB9LFxuICAgIHtcbiAgICAgIHJ1bGU6IC9eLipcXC9hcGlcXC92WzAtOV0uKj9cXC9zZWFyY2hfaXRlbXMoXFwvKT9cXD9ieT1yZWxldmFuY3kuKj9wYWdlX3R5cGU9c2VhcmNoLio/JnNjZW5hcmlvPVBBR0VfQ0FURUdPUlkuKi8sXG4gICAgICBoYW5kbGVyOiBzaG9wZWVHZXRMaXN0LFxuICAgIH0sXG4gICAge1xuICAgICAgcnVsZTogL14uKlxcL2FwaVxcL3ZbMC05XS4qP1xcL3NlYXJjaF9pdGVtcyhcXC8pP1xcP2J5PXByaWNlLio/cGFnZV90eXBlPXNlYXJjaC4qPyZzY2VuYXJpbz1QQUdFX0NBVEVHT1JZLiovLFxuICAgICAgaGFuZGxlcjogc2hvcGVlR2V0TGlzdCxcbiAgICB9LFxuICAgIHtcbiAgICAgIHJ1bGU6IC9eLipcXC9hcGlcXC92WzAtOV0uKj9cXC9zZWFyY2hfaXRlbXMoXFwvKT9cXD9ieT1wb3AuKj9wYWdlX3R5cGU9Y29sbGVjdGlvbi4qPyZzY2VuYXJpbz1QQUdFX0dMT0JBTF9TRUFSQ0guKi8sXG4gICAgICBoYW5kbGVyOiBzaG9wZWVHZXRMaXN0LFxuICAgIH0sXG4gICAge1xuICAgICAgcnVsZTogL14uKlxcL2FwaVxcL3ZbMC05XS4qP1xcL3NlYXJjaF9pdGVtcyhcXC8pP1xcP2J5PXJlbGV2YW5jeS4qP3BhZ2VfdHlwZT1jb2xsZWN0aW9uLio/JnNjZW5hcmlvPVBBR0VfR0xPQkFMX1NFQVJDSC4qLyxcbiAgICAgIGhhbmRsZXI6IHNob3BlZUdldExpc3QsXG4gICAgfSxcbiAgICB7XG4gICAgICBydWxlOiAvXi4qXFwvYXBpXFwvdlswLTldLio/XFwvcmVjb21tZW5kXFwvcmVjb21tZW5kX3YyLyxcbiAgICAgIGhhbmRsZXI6IHNob3BlZUdldEhkTGlzdCxcbiAgICB9LFxuICAgIC8vIHtcbiAgICAvLyAgICAgcnVsZTogL14uKlxcL2FwaVxcL3ZbMC05XS4qP1xcL3JjbWRfaXRlbXMoXFwvKT9cXD9idW5kbGU9LiombGltaXQ9Liomb2Zmc2V0PS4qJnNob3BfaWQ9Liomc29ydF90eXBlPS4qJnVwc3RyZWFtPS4qLyxcbiAgICAvLyAgICAgaGFuZGxlcjogZ2V0U2hvcEl0ZW1MaXN0XG4gICAgLy8gfSxcbiAgICAvLyB7XG4gICAgLy8gICAgIHJ1bGU6IC9eLipcXC9hcGlcXC92WzAtOV0uKj9cXC9zaG9wXFwvcmNtZF9pdGVtcy4qLyxcbiAgICAvLyAgICAgaGFuZGxlcjogZ2V0U2hvcEl0ZW1MaXN0XG4gICAgLy8gfSxcbiAgICAvLyB7XG4gICAgLy8gICAgIHJ1bGU6IC9eLipcXC9hcGlcXC92WzAtOV0uKj9cXC9ob21lcGFnZVxcL2dldF9kYWlseV9kaXNjb3ZlclxcP2J1bmRsZT0uKiZpdGVtX2NhcmQ9LiombGltaXQ9LiombmVlZF90YWI9Liomb2Zmc2V0PS4qJnZpZXdfc2Vzc2lvbl9pZD0uKi8sXG4gICAgLy8gICAgIGhhbmRsZXI6IGdldEhvbWVJdGVtTGlzdFxuICAgIC8vIH0sXG4gICAgLy8ge1xuICAgIC8vICAgICBydWxlOiAvXi4qXFwvYXBpXFwvdlswLTldLio/XFwvcmVjb21tZW5kXFwvcHJvZHVjdF9kZXRhaWxfcGFnZS4qLyxcbiAgICAvLyAgICAgaGFuZGxlcjogZ2V0U2ltaWxhckl0ZW1MaXN0XG4gICAgLy8gfSxcbiAgICAvLyB7XG4gICAgLy8gICAgIHJ1bGU6IC9eLipcXC9hcGlcXC92WzAtOV0uKj9cXC9yZWNvbW1lbmRcXC9yZWNvbW1lbmRfcG9zdC4qLyxcbiAgICAvLyAgICAgaGFuZGxlcjogZ2V0RmluZFNpbWlsYXJQcm9kdWN0c1xuICAgIC8vIH1cbiAgXTtcbiAgdmFyIGhhbmRsZXJzID0gcnVsZXMuZmlsdGVyKGZ1bmN0aW9uICh2KSB7XG4gICAgcmV0dXJuIHYucnVsZS50ZXN0KHVybCk7XG4gIH0pO1xuICB0cnkge1xuICAgIGhhbmRsZXJzWzBdLmhhbmRsZXIocmVzdWx0RGF0YSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBlLnRvU3RyaW5nKCk7XG4gIH1cbn1cblxuLy8g6I635Y+W5pCc57Si5pWw5o2uXG5mdW5jdGlvbiBzaG9wZWVHZXRMaXN0KHJlc3VsdERhdGEpIHtcbiAgY29uc3QgbGlzdCA9IHJlc3VsdERhdGEuZGF0YS5pdGVtcztcbiAgaWYgKGxpc3QubGVuZ3RoID09IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8g6I635Y+W5b2T5YmN6aG16Z2i5LiK55qE5YWz6ZSu6K+NXG4gIGNvbnN0IGtleXdvcmQgPVxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2hvcGVlLXNlYXJjaGJhci1pbnB1dCBpbnB1dFwiKT8udmFsdWUgfHwgXCJcIjtcblxuICBjb25zdCBzaXRlTmFtZSA9IGdldFNpdGVJbmZvQnlIb3N0KGxvY2F0aW9uLmhvc3QpLnNpdGVOYW1lO1xuICBjb25zdCBpbWdCYXNlID0gZ2V0U2l0ZUluZm9CeUhvc3QobG9jYXRpb24uaG9zdCkuaW1nQmFzZTtcblxuICBjb25zdCBkYXRhID0gbGlzdC5tYXAoKGl0ZW0pID0+IHtcbiAgICBjb25zdCB7IGl0ZW1fYmFzaWMsIGl0ZW1fZGF0YSwgaXRlbV9jYXJkX2Rpc3BsYXllZF9hc3NldCB9ID0gaXRlbTtcbiAgICAvLyDmkJzntKJcbiAgICBpZiAoaXRlbV9iYXNpYykge1xuICAgICAgY29uc3Qge1xuICAgICAgICBzb2xkLFxuICAgICAgICBoaXN0b3JpY2FsX3NvbGQsXG4gICAgICAgIHNob3BfbG9jYXRpb24sXG4gICAgICAgIGl0ZW1pZCxcbiAgICAgICAgcHJpY2UsXG4gICAgICAgIGN0aW1lLFxuICAgICAgICBuYW1lLFxuICAgICAgICBpbWFnZVxuICAgICAgfSA9IGl0ZW1fYmFzaWM7XG5cbiAgICAgIGNvbnN0IHByb2R1Y3RfdXJsID0gZ2V0UHJvZHVjdFVybCh7XG4gICAgICAgIGl0ZW1JZDogaXRlbWlkLFxuICAgICAgICBzaG9wSWQ6IGl0ZW1fYmFzaWM/LnNob3BpZCxcbiAgICAgICAgaXRlbU5hbWU6IG5hbWVcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzaG9wZWVTb2xkOiBzb2xkLFxuICAgICAgICBzaG9wZWVIaXN0b3JpY2FsU29sZDogaGlzdG9yaWNhbF9zb2xkLFxuICAgICAgICBzaG9wZWVMb2NhdGlvbjogc2hvcF9sb2NhdGlvbixcbiAgICAgICAgaXRlbWlkLFxuICAgICAgICBwcmljZTogcHJpY2UgLyAxMDAwMDAsXG4gICAgICAgIGl0ZW1OYW1lOiBuYW1lLFxuICAgICAgICBjdGltZTogZ2V0Q2hpbmFEYXRlKGN0aW1lICogMTAwMCksXG4gICAgICAgIGtleXdvcmQsXG4gICAgICAgIHR5cGU6IFwi5pCc57SiXCIsXG4gICAgICAgIHByb2R1Y3RfdXJsLFxuICAgICAgICBpbWc6IGAke2ltZ0Jhc2V9LyR7aW1hZ2V9YCxcbiAgICAgICAgc2l0ZU5hbWUsXG4gICAgICB9O1xuICAgIH1cbiAgICAvLyDmjqjojZAt5pyA54Ot6ZSAXG4gICAgaWYgKGl0ZW1fZGF0YSkge1xuICAgICAgY29uc3QgeyBpdGVtaWQsIGl0ZW1fY2FyZF9kaXNwbGF5X3ByaWNlLCBjdGltZSB9ID0gaXRlbV9kYXRhO1xuXG4gICAgICBjb25zdCBwcm9kdWN0X3VybCA9IGdldFByb2R1Y3RVcmwoe1xuICAgICAgICBpdGVtSWQ6IGl0ZW1pZCxcbiAgICAgICAgc2hvcElkOiBpdGVtX2RhdGE/LnNob3BpZCxcbiAgICAgICAgaXRlbU5hbWU6IGl0ZW1fY2FyZF9kaXNwbGF5ZWRfYXNzZXQ/Lm5hbWUsXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2hvcGVlU29sZDogXCItXCIsXG4gICAgICAgIHNob3BlZUhpc3RvcmljYWxTb2xkOiBcIi1cIixcbiAgICAgICAgc2hvcGVlTG9jYXRpb246IGl0ZW1fY2FyZF9kaXNwbGF5ZWRfYXNzZXQuc2hvcF9sb2NhdGlvbixcbiAgICAgICAgaXRlbWlkLFxuICAgICAgICBwcmljZTogaXRlbV9jYXJkX2Rpc3BsYXlfcHJpY2UucHJpY2UgLyAxMDAwMDAsXG4gICAgICAgIGl0ZW1OYW1lOiBpdGVtX2NhcmRfZGlzcGxheWVkX2Fzc2V0Lm5hbWUsXG4gICAgICAgIGN0aW1lOiBnZXRDaGluYURhdGUoY3RpbWUgKiAxMDAwKSxcbiAgICAgICAga2V5d29yZCxcbiAgICAgICAgdHlwZTogXCLmjqjojZAt5pyA54Ot6ZSAXCIsXG4gICAgICAgIHByb2R1Y3RfdXJsLFxuICAgICAgICBpbWc6IGAke2ltZ0Jhc2V9LyR7aXRlbV9jYXJkX2Rpc3BsYXllZF9hc3NldC5pbWFnZX1gLFxuICAgICAgICBzaXRlTmFtZSxcbiAgICAgIH07XG4gICAgfVxuICB9KTtcbiAgc3RvcmVTaG9wZWVEYXRhKGRhdGEpO1xufVxuXG4vLyDojrflj5bmjqjojZDmlbDmja5cbmZ1bmN0aW9uIHNob3BlZUdldEhkTGlzdChyZXN1bHREYXRhKSB7XG4gIGNvbnN0IGxpc3QgPSByZXN1bHREYXRhLmRhdGEuZGF0YS51bml0cztcbiAgaWYgKGxpc3QubGVuZ3RoID09IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBkYXRhID0gbGlzdC5tYXAoKHsgaXRlbSB9KSA9PiB7XG5cbiAgICBjb25zdCB7IGl0ZW1fZGF0YSwgaXRlbV9jYXJkX2Rpc3BsYXllZF9hc3NldCB9ID0gaXRlbTtcbiAgICBjb25zdCBzb2xkID0gaXRlbV9kYXRhLml0ZW1fY2FyZF9kaXNwbGF5X3NvbGRfY291bnQubW9udGhseV9zb2xkX2NvdW50O1xuICAgIGNvbnN0IGhpc3RvcmljYWxfc29sZCA9XG4gICAgICBpdGVtX2RhdGEuaXRlbV9jYXJkX2Rpc3BsYXlfc29sZF9jb3VudC5oaXN0b3JpY2FsX3NvbGRfY291bnQ7XG4gICAgY29uc3Qgc2hvcF9sb2NhdGlvbiA9IGl0ZW1fZGF0YS5zaG9wX2RhdGEuc2hvcF9sb2NhdGlvbjtcbiAgICBjb25zdCBpdGVtaWQgPSBpdGVtX2RhdGEuaXRlbV9jYXJkX2Rpc3BsYXlfcHJpY2UuaXRlbV9pZDtcbiAgICBjb25zdCBwcmljZSA9IGl0ZW1fZGF0YS5pdGVtX2NhcmRfZGlzcGxheV9wcmljZS5wcmljZTtcbiAgICBjb25zdCBwcm9kdWN0X3VybCA9IGdldFByb2R1Y3RVcmwoe1xuICAgICAgaXRlbUlkOiBpdGVtaWQsXG4gICAgICBzaG9wSWQ6IGl0ZW1fZGF0YT8uc2hvcGlkLFxuICAgICAgaXRlbU5hbWU6IGl0ZW1fY2FyZF9kaXNwbGF5ZWRfYXNzZXQ/Lm5hbWUsXG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgc29sZCxcbiAgICAgIGhpc3RvcmljYWxfc29sZCxcbiAgICAgIHNob3BfbG9jYXRpb24sXG4gICAgICBpdGVtaWQsXG4gICAgICBwcmljZSxcbiAgICAgIHByb2R1Y3RfdXJsLFxuICAgICAgdHlwZTogXCLmjqjojZAt57u85ZCI5o6S5ZCNXCIsXG4gICAgfTtcbiAgfSk7XG4gIHN0b3JlU2hvcGVlRGF0YShkYXRhKTtcbn1cblxuLy8g6I635Y+W5bqX6ZO65o6o6I2Q5pWw5o2uXG5mdW5jdGlvbiBzaG9wZWVHZXRTaG9wUmNtZExpc3QocmVzdWx0RGF0YSkge1xuICBtb25pdG9yQW5kQWRkSW5mbyhyZXN1bHREYXRhLmRhdGEuZGF0YS5pdGVtcylcbn1cblxuZnVuY3Rpb24gc3RvcmVTaG9wZWVEYXRhKG5ld0RhdGEpIHtcbiAgY29uc3Qgc3RvcmVkRGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHNob3BlZVN0b3JhZ2VLZXkpO1xuICBsZXQgcGFyc2VkRGF0YSA9IFtdO1xuICBpZiAoc3RvcmVkRGF0YSkge1xuICAgIHBhcnNlZERhdGEgPSBKU09OLnBhcnNlKHN0b3JlZERhdGEpIHx8IFtdO1xuICB9XG4gIHBhcnNlZERhdGEgPSBbLi4ucGFyc2VkRGF0YSwgLi4ubmV3RGF0YV07XG4gIC8vIOWOu+mHjVxuICBjb25zdCBpdGVtTWFwID0gbmV3IE1hcChwYXJzZWREYXRhLm1hcCgoaXRlbSkgPT4gW2l0ZW0uaXRlbWlkLCBpdGVtXSkpO1xuICBwYXJzZWREYXRhID0gQXJyYXkuZnJvbShpdGVtTWFwLnZhbHVlcygpKTtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oc2hvcGVlU3RvcmFnZUtleSwgSlNPTi5zdHJpbmdpZnkocGFyc2VkRGF0YSkpO1xuICBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSh7XG4gICAgdHlwZTogXCJTVE9SQUdFX1VQREFURVwiLFxuICAgIHBheWxvYWQ6IHtcbiAgICAgIGtleTogXCJzaG9wZWVEYXRhTGVuZ3RoXCIsXG4gICAgICB2YWx1ZTogcGFyc2VkRGF0YS5sZW5ndGgsXG4gICAgfSxcbiAgfSk7XG59XG5cbi8vIOWumuS5ieWumuaXtuWZqOebkeWQrOWHveaVsFxuZnVuY3Rpb24gbW9uaXRvckFuZEFkZEluZm8oZGF0YUxpc3QpIHtcbiAgaWYgKCFkYXRhTGlzdCB8fCBkYXRhTGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBpbnRlcnZhbCA9IDUwMDtcbiAgY29uc3QgbWF4SXRlbXMgPSA2MDtcbiAgbGV0IHByb2Nlc3NlZEl0ZW1zID0gbmV3IFNldCgpO1xuXG4gIGNvbnN0IHRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgY29uc3QgaXRlbUNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNob3Atc2VhcmNoLXJlc3VsdC12aWV3X19pdGVtJyk7XG5cbiAgICAgIGl0ZW1DYXJkcy5mb3JFYWNoKChpdGVtQ2FyZCwgaW5kZXgpID0+IHtcbiAgICAgICAgLy8g5L+u5aSNMe+8mua3u+WKoOaVsOaNruWtmOWcqOaAp+ajgOafpVxuICAgICAgICBjb25zdCBjYXJkRGF0YSA9IGRhdGFMaXN0W2luZGV4XTsgLy8g5L+u5aSN5Y+Y6YeP5aOw5piOXG4gICAgICAgIGlmICghY2FyZERhdGEpIHJldHVybjsgLy8g6Ziy5q2i5pWw5o2u6LaK55WMXG5cbiAgICAgICAgaWYgKHByb2Nlc3NlZEl0ZW1zLmhhcyhpdGVtQ2FyZCkpIHJldHVybjtcblxuICAgICAgICBjb25zdCBsb2NhdGlvbkNvbnRhaW5lciA9IGl0ZW1DYXJkLnF1ZXJ5U2VsZWN0b3IoJy50cmFuUHJpY2UnKTtcblxuICAgICAgICBpZiAobG9jYXRpb25Db250YWluZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHtjdGltZSwgc29sZCwgaGlzdG9yaWNhbF9zb2xkLCBsaWtlZF9jb3VudH0gPSBjYXJkRGF0YTsgLy8g5Y6f5aeL5bGe5oCn5ZCNXG4gICAgICAgICAgICBjb25zdCBjdGltZURhdGUgPSBuZXcgRGF0ZShjdGltZSAqIDEwMDApLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xuICAgICAgICAgICAgY29uc3QgaXNOZXcgPSBjdGltZURhdGUuc3RhcnRzV2l0aCgnMjAyNScpO1xuXG4gICAgICAgICAgICBjb25zdCBhZGRpdGlvbmFsSW5mb0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgYWRkaXRpb25hbEluZm9Db250YWluZXIuc3R5bGUubWFyZ2luVG9wID0gJzVweCc7IC8vIOa3u+WKoOS4gOS6m+mXtOi3nVxuICAgICAgICAgICAgYWRkaXRpb25hbEluZm9Db250YWluZXIuc3R5bGUuY29sb3IgPSBpc05ldz8ncmVkJzonIzc1NzU3NSc7IC8vIOiuvue9ruaWh+Wtl+minOiJslxuICAgICAgICAgICAgYWRkaXRpb25hbEluZm9Db250YWluZXIuc3R5bGUuZm9udFNpemUgPSAnMTJweCc7IC8vIOiuvue9ruaWh+Wtl+Wkp+Wwj1xuICAgICAgICAgICAgYWRkaXRpb25hbEluZm9Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnYWRkaXRpb25hbC1pbmZvJyk7IC8vIOa3u+WKoOS4gOS4quagh+ivhuexu++8jOaWueS+v+iwg+ivlVxuICAgICAgICAgICAgaWYgKGlzTmV3KSB7XG4gICAgICAgICAgICAgICAgYWRkaXRpb25hbEluZm9Db250YWluZXIuc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJzsgLy8g6K6+572u5Li657KX5L2TXG4gICAgICAgICAgICAgICAgYWRkaXRpb25hbEluZm9Db250YWluZXIuc3R5bGUuYm9yZGVyID0gJzFweCBzb2xpZCByZWQnOyAvLyDmt7vliqDovrnmoYZcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYWRkaXRpb25hbEluZm9Db250YWluZXIuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICAgIDxkaXY+5Yib5bu65pe26Ze0OiAke2N0aW1lRGF0ZX08L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PuacgOi/kemUgOmHjzogJHtzb2xkfTwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXY+5Y6G5Y+y6ZSA6YePOiAke2hpc3RvcmljYWxfc29sZH08L2Rpdj4gPCEtLSDkv67mraPlsZ7mgKflkI0gLS0+XG4gICAgICAgICAgICAgICAgPGRpdj7llpzmrKLmlbA6ICR7bGlrZWRfY291bnR9PC9kaXY+ICAgICAgPCEtLSDkv67mraPlsZ7mgKflkI0gLS0+XG4gICAgICAgICAgICBgO1xuXG4gICAgICAgICAgICBsb2NhdGlvbkNvbnRhaW5lci5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGFkZGl0aW9uYWxJbmZvQ29udGFpbmVyKTtcbiAgICAgICAgICAgIHByb2Nlc3NlZEl0ZW1zLmFkZChpdGVtQ2FyZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyDkv67lpI0z77ya5pS55Li65qC55o2u5bey5aSE55CG5pWw6YeP5Yik5patXG4gICAgICBpZiAocHJvY2Vzc2VkSXRlbXMuc2l6ZSA+PSBtYXhJdGVtcykge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCflt7LlpITnkIbllYblk4HljaHmlbDph486JywgcHJvY2Vzc2VkSXRlbXMuc2l6ZSk7XG4gICAgICB9XG4gIH0sIGludGVydmFsKTtcbn0iXSwibmFtZXMiOlsiZG93bmxvYWRDU1YiLCJjc3ZDb250ZW50IiwibmFtZSIsImJsb2IiLCJsaW5rIiwidXJsIiwianNvbkxpc3RUb0NzdiIsImpzb25EYXRhIiwiaGVhZGVycyIsInJvd3MiLCJvYmoiLCJ2YWx1ZSIsIlByb2R1Y3REZXRhaWxVcmxSZWdleCIsIm9wZW5OZXh0RGV0YWlsIiwiZGV0YWlsX3Byb2R1Y3RfbGlzdCIsImRldGFpbFByb2R1Y3RMaXN0IiwibmV4dFByb2R1Y3QiLCJwcm9kdWN0IiwicHJvZHVjdFVybCIsIml0ZW1JZCIsInByb2R1Y3REZXRhaWxVcmwiLCJzaG9wZWVKdW1wU2hvcCIsInJlc3VsdERhdGEiLCJzaG9wX25hbWUiLCJzaG9wZWVHZXRTb2xkSW5mbyIsIml0ZW1zIiwiaXRlbV9pZCIsIml0ZW0iLCJpdGVtaWQiLCJzb2xkIiwiaGlzdG9yaWNhbF9zb2xkIiwiemhpeGlhU3RvcmFnZUtleSIsImdldENoaW5hRGF0ZSIsInNob3BlZVN0b3JhZ2VLZXkiLCJTaXRlQ29uZmlnIiwiZ2V0U2l0ZUluZm9CeUhvc3QiLCJob3N0IiwicyIsImdldFByb2R1Y3RVcmwiLCJzaG9wSWQiLCJpdGVtTmFtZSIsInJlcXVlc3QiLCJzZW5kZXIiLCJzZW5kUmVzcG9uc2UiLCJ6aGl4aWFEYXRhTGVuZ3RoIiwic2hvcGVlRGF0YUxlbmd0aCIsInpoaXhpYURhdGEiLCJzaG9wZWVEYXRhIiwicGFyc2VkWmhpeGlhRGF0YSIsInBhcnNlZFNob3BlZURhdGEiLCJjb252ZXJ0VG9DU1YiLCJrZXkiLCJldmVudCIsImV2ZW50RGF0YSIsInNob3BlZUhhbmRsZXIiLCJfYSIsIl9iIiwiZmlyc3RDYXRlZ29yeSIsInNlY29uZENhdGVnb3J5Iiwic2hvcGVlRGF0YU1hcCIsImFjYyIsImFyciIsImZpZWxkTWFwcGluZyIsImYiLCJmaWVsZCIsInYiLCJ0aW1lIiwiaGFuZGxlcnMiLCJzaG9wZWVHZXRTaG9wUmNtZExpc3QiLCJzaG9wZWVHZXRMaXN0Iiwic2hvcGVlR2V0SGRMaXN0IiwiZSIsImxpc3QiLCJrZXl3b3JkIiwic2l0ZU5hbWUiLCJpbWdCYXNlIiwiZGF0YSIsIml0ZW1fYmFzaWMiLCJpdGVtX2RhdGEiLCJpdGVtX2NhcmRfZGlzcGxheWVkX2Fzc2V0Iiwic2hvcF9sb2NhdGlvbiIsInByaWNlIiwiY3RpbWUiLCJpbWFnZSIsInByb2R1Y3RfdXJsIiwiaXRlbV9jYXJkX2Rpc3BsYXlfcHJpY2UiLCJzdG9yZVNob3BlZURhdGEiLCJtb25pdG9yQW5kQWRkSW5mbyIsIm5ld0RhdGEiLCJzdG9yZWREYXRhIiwicGFyc2VkRGF0YSIsIml0ZW1NYXAiLCJkYXRhTGlzdCIsImludGVydmFsIiwibWF4SXRlbXMiLCJwcm9jZXNzZWRJdGVtcyIsInRpbWVyIiwiaXRlbUNhcmQiLCJpbmRleCIsImNhcmREYXRhIiwibG9jYXRpb25Db250YWluZXIiLCJsaWtlZF9jb3VudCIsImN0aW1lRGF0ZSIsImlzTmV3IiwiYWRkaXRpb25hbEluZm9Db250YWluZXIiXSwibWFwcGluZ3MiOiJBQUNhLE1BQUFBLEVBQWMsQ0FBQ0MsRUFBb0JDLElBQWlCLENBQy9ELE1BQU1DLEVBQU8sSUFBSSxLQUFLLENBQUMsU0FBV0YsQ0FBVSxFQUFHLENBQzdDLEtBQU0seUJBQUEsQ0FDUCxFQUNLRyxFQUFPLFNBQVMsY0FBYyxHQUFHLEVBQ25DLEdBQUFBLEVBQUssV0FBYSxPQUFXLENBQ3pCLE1BQUFDLEVBQU0sSUFBSSxnQkFBZ0JGLENBQUksRUFDL0JDLEVBQUEsYUFBYSxPQUFRQyxDQUFHLEVBQzdCRCxFQUFLLGFBQWEsV0FBWSxHQUFHRixDQUFJLE1BQU0sRUFDM0NFLEVBQUssTUFBTSxXQUFhLFNBQ2YsU0FBQSxLQUFLLFlBQVlBLENBQUksRUFDOUJBLEVBQUssTUFBTSxFQUNGLFNBQUEsS0FBSyxZQUFZQSxDQUFJLENBQUEsQ0FFbEMsRUFHTyxTQUFTRSxFQUFjQyxFQUFpQyxDQUV2RCxNQUFBQyxFQUFVLE9BQU8sS0FBS0QsRUFBUyxDQUFDLENBQUMsRUFBRSxLQUFLLEdBQUcsRUFBSTtBQUFBLEVBRy9DRSxFQUFPRixFQUFTLElBQVdHLEdBQ3hCLE9BQU8sT0FBT0EsQ0FBRyxFQUFFLElBQWFDLEdBRWpDLE9BQU9BLEdBQVUsV0FBYUEsRUFBTSxTQUFTLEdBQUcsR0FBS0EsRUFBTSxTQUFTO0FBQUEsQ0FBSSxHQUNuRSxJQUFJQSxDQUFLLElBRVhBLENBQ1IsRUFBRSxLQUFLLEdBQUcsQ0FDWixFQUFFLEtBQUs7QUFBQSxDQUFJLEVBR1osT0FBT0gsRUFBVUMsQ0FDbkIsQ0MxQkEsTUFBTUcsRUFBd0IsMENBRWpCQyxFQUFpQixJQUFNLENBQzVCLE1BQUFDLEVBQXNCLGFBQWEsUUFBUSxxQkFBcUIsRUFDaEVDLEVBQW9CLEtBQUssTUFBTUQsR0FBdUIsSUFBSSxFQUMxREUsRUFBY0QsRUFBa0IsS0FDbkNFLEdBQWlCQSxFQUFRLE9BQVMsUUFBYUwsRUFBc0IsS0FBS0ssRUFBUSxXQUFXLENBQ2hHLEVBQ0ksR0FBQSxDQUFDRCxHQUFlRCxFQUFrQixPQUFRLENBQ2hDZixFQUFBTSxFQUFjUyxDQUFpQixFQUFHLHFCQUFxQixFQUNuRSxNQUFBLENBRUYsR0FBSUMsRUFBYSxDQUNmLE1BQU1FLEVBQWFGLEVBQVksWUFDekJHLEVBQVNILEVBQVksUUFDckJJLEVBQW1CLEdBQUdGLENBQVUsWUFBWUMsQ0FBTSxHQUN4RCxPQUFPLEtBQUtDLENBQWdCLENBQUEsQ0FFaEMsRUFLYUMsRUFBa0JDLEdBQW9CLENBQ2pELE1BQU1DLEVBQVlELEVBQVcsS0FBSyxLQUFLLGNBQWMsUUFBUSxTQUN4REMsSUFHSSxTQUFBLFNBQVcsSUFBSUEsQ0FBUyxHQUNuQyxFQU1hQyxFQUFxQkYsR0FBb0IsQ0FDOUMsTUFBQUcsRUFBUUgsRUFBVyxLQUFLLEtBQUssTUFFN0JJLEVBRFMsSUFBSSxnQkFBZ0IsT0FBTyxTQUFTLE1BQU0sRUFDbEMsSUFBSSxTQUFTLEVBQ3BDLEdBQUksQ0FBQ0EsRUFDSCxPQUVJLE1BQUFDLEVBQU9GLEVBQU0sS0FBSyxDQUFDLENBQUMsT0FBQUcsQ0FBTSxJQUF3QkEsR0FBVUYsQ0FBTyxFQUVuRVgsRUFBb0IsS0FBSyxNQUM3QixhQUFhLFFBQVEscUJBQXFCLEdBQUssSUFDakQsRUFDa0JBLEVBQUEsUUFBU0UsR0FBaUIsQ0FDdEMsR0FBQUEsRUFBUSxVQUFZUyxFQUN0QixHQUFHQyxFQUFLLENBQ0EsS0FBQSxDQUFDLEtBQUFFLEVBQU0sZ0JBQUFDLENBQUEsRUFBbUJILEVBQ2hDVixFQUFRLEtBQU9ZLEVBQ2ZaLEVBQVEsZ0JBQWtCYSxDQUFBLE1BRTFCYixFQUFRLEtBQU8sR0FDZkEsRUFBUSxnQkFBa0IsRUFFOUIsQ0FDRCxFQUNELGFBQWEsUUFBUSxzQkFBdUIsS0FBSyxVQUFVRixDQUFpQixDQUFDLEVBRzlERixFQUFBLEVBQ2YsT0FBTyxNQUFNLENBQ2YsRUNyRU1rQixFQUFtQixVQUFVQyxFQUFBLENBQWMsR0FDM0NDLEVBQW1CLFVBQVVELEVBQUEsQ0FBYyxHQUUzQ0UsRUFBYSxDQUNqQixHQUFJLENBQ0YsU0FBVSxLQUNWLEtBQU0scUJBQ04sUUFBUywyQ0FDWCxFQUNBLFNBQVUsQ0FDUixTQUFVLE9BQ1YsS0FBTSxrQkFDTixRQUFTLDJDQUNYLEVBQ0EsVUFBVyxDQUNULFNBQVUsTUFDVixLQUFNLGtCQUNOLFFBQVMsMkNBQ1gsRUFDQSxHQUFJLENBQ0YsU0FBVSxNQUNWLEtBQU0sa0JBQ04sUUFBUywyQ0FDWCxFQUNBLEdBQUksQ0FDRixTQUFVLEtBQ1YsS0FBTSxrQkFDTixRQUFTLDJDQUNYLEVBQ0EsR0FBSSxDQUNGLFNBQVUsS0FDVixLQUFNLGtCQUNOLFFBQVMsMkNBQUEsQ0FFYixFQUdBLFNBQVNDLEVBQWtCQyxFQUFNLENBQ3hCLE9BQUEsT0FBTyxPQUFPRixDQUFVLEVBQUUsS0FBTUcsR0FBTUQsSUFBU0MsRUFBRSxJQUFJLEdBQUssQ0FBQyxDQUNwRSxDQUdBLFNBQVNDLEVBQWMsQ0FBRSxPQUFBbkIsRUFBUSxPQUFBb0IsRUFBUSxTQUFBQyxHQUFZLENBQ25ELEdBQUksR0FBQ3JCLEdBQVUsQ0FBQ29CLEdBQVUsQ0FBQ0MsR0FJcEIsTUFBQSxXQUFXLFNBQVMsSUFBSSxJQUFJQSxDQUFRLE1BQU1ELENBQU0sSUFBSXBCLENBQU0sRUFDbkUsQ0FHQSxPQUFPLFFBQVEsVUFBVSxZQUFZLENBQUNzQixFQUFTQyxFQUFRQyxJQUFpQixDQUNsRSxHQUFBRixFQUFRLE9BQVMsYUFBYyxDQUU3QixHQUFBQSxFQUFRLFFBQVEsVUFBWSxrQkFBbUIsQ0FDakQsSUFBSUcsRUFBbUIsRUFDbkJDLEVBQW1CLEVBQ25CLEdBQUFKLEVBQVEsUUFBUSxTQUFXLGVBQWdCLENBQzdDLE1BQU1LLEVBQWEsYUFBYSxRQUFRZixDQUFnQixHQUFLLEtBQ3ZEZ0IsRUFBYSxhQUFhLFFBQVFkLENBQWdCLEdBQUssS0FFdkRlLEVBQW1CLEtBQUssTUFBTUYsQ0FBVSxHQUFLLENBQUMsRUFDOUNHLEVBQW1CLEtBQUssTUFBTUYsQ0FBVSxHQUFLLENBQUMsRUFFcEQsR0FBSUMsRUFBaUIsT0FBUyxHQUFLQyxFQUFpQixPQUFTLEVBQUcsQ0FFeEQsTUFBQWhELEVBQWFpRCxFQUFhRixFQUFrQkMsQ0FBZ0IsRUFDbEVqRCxFQUFZQyxFQUFZZ0MsQ0FBZ0IsQ0FBQSxDQUMxQyxDQVlFLEdBVkFRLEVBQVEsUUFBUSxTQUFXLFVBRTdCLE9BQU8sS0FBSyxZQUFZLEVBQUUsUUFBZVUsR0FBQSxFQUNuQ0EsRUFBSSxXQUFXLFNBQVMsR0FBS0EsRUFBSSxXQUFXLFNBQVMsSUFDdkQsYUFBYSxXQUFXQSxDQUFHLENBQzdCLENBQ0QsRUFDa0JQLEVBQUEsRUFDQUMsRUFBQSxHQUVqQkosRUFBUSxRQUFRLFNBQVcsWUFBYSxDQUNwQyxNQUFBSyxFQUFhLGFBQWEsUUFBUWYsQ0FBZ0IsRUFDcERlLEVBRUZGLEdBRG1CLEtBQUssTUFBTUUsQ0FBVSxHQUFLLENBQUMsR0FDaEIsT0FFWEYsRUFBQSxFQUVmLE1BQUFHLEVBQWEsYUFBYSxRQUFRZCxDQUFnQixFQUNwRGMsRUFFRkYsR0FEbUIsS0FBSyxNQUFNRSxDQUFVLEdBQUssQ0FBQyxHQUNoQixPQUVYRixFQUFBLENBQ3JCLENBRVdGLEVBQUEsQ0FDWCxLQUFNLGVBQ04sUUFBUyxDQUNQLGlCQUFBQyxFQUNBLGlCQUFBQyxDQUFBLENBQ0YsQ0FDRCxDQUFBLENBR0NKLEVBQVEsUUFBUSxVQUFZLGdCQUMxQkEsRUFBUSxRQUFRLFNBQVcsU0FFZDVCLEVBQUEsRUFFYjRCLEVBQVEsUUFBUSxPQUl0QixDQUVLLE1BQUEsRUFDVCxDQUFDLEVBR0QsT0FBTyxpQkFDTCxVQUNBLFNBQVVXLEVBQU8sQ0FFWCxHQUFBLENBRUYsTUFBTUMsRUFBWSxLQUFLLE1BQU1ELEVBQU0sSUFBSSxFQUVuQ0MsRUFBVSxPQUFTLGdCQUduQkEsRUFBVSxNQUNWQSxFQUFVLEtBQUssU0FDZkEsRUFBVSxLQUFLLFFBQVEsUUFFdkJDLEVBQWNELEVBQVUsS0FBSyxRQUFRLENBQUMsRUFBR0EsQ0FBUyxPQUl4QyxDQUNOLFFBQUEsTUFBTSw4QkFBK0JELEVBQU0sSUFBSSxDQUFBLENBRTNELEVBQ0EsRUFDRixFQUdBLFNBQVNGLEVBQWFKLEVBQVlDLEVBQVksQ0Z0SmpDLElBQUFRLEVBQUFDLEVFdUpYLE1BQU1DLElBQ0pGLEVBQUEsU0FBUyxjQUNQLHNFQURGLFlBQUFBLEVBRUcsWUFBYSxHQUNaRyxJQUNKRixFQUFBLFNBQVMsY0FDUCx1RUFERixZQUFBQSxFQUVHLFlBQWEsR0FFWkcsRUFBZ0JaLEVBQVcsT0FBTyxDQUFDYSxFQUFLakMsS0FDeENpQyxFQUFBakMsRUFBSyxNQUFNLEVBQUlBLEVBQ1ppQyxHQUNOLEVBQUUsRUFDQ0MsRUFBTWYsRUFBVyxJQUFLbkIsSUFFbkIsQ0FDTCxHQUFHQSxFQUNILEdBQUdnQyxFQUFjaEMsRUFBSyxNQUFNLEVBQzVCLGNBQUE4QixFQUNBLGVBQUFDLENBQ0YsRUFDRCxFQUdLSSxFQUFlLENBQ25CLENBQUMsU0FBVSxJQUFJLEVBQ2YsQ0FBQyxTQUFVLE1BQU0sRUFDakIsQ0FBQyxjQUFlLFNBQVMsRUFDekIsQ0FBQyxVQUFXLE1BQU0sRUFDbEIsQ0FBQyxRQUFTLE1BQU0sRUFDaEIsQ0FBQyxPQUFRLEtBQUssRUFDZCxDQUFDLFFBQVMsT0FBTyxFQUNqQixDQUFDLFlBQWEsT0FBTyxFQUNyQixDQUFDLGFBQWMsUUFBUSxFQUN2QixDQUFDLFdBQVksU0FBUyxFQUN0QixDQUFDLGNBQWUsV0FBVyxFQUMzQixDQUFDLFFBQVMsY0FBYyxFQUN4QixDQUFDLGFBQWMsaUJBQWlCLEVBQ2hDLENBQUMsdUJBQXdCLGNBQWMsRUFDdkMsQ0FBQyxpQkFBa0IsY0FBYyxFQUNqQyxDQUFDLFlBQWEsTUFBTSxFQUNwQixDQUFDLFlBQWEsS0FBSyxFQUNuQixDQUFDLFlBQWEsS0FBSyxFQUNuQixDQUFDLGFBQWMsTUFBTSxFQUNyQixDQUFDLGdCQUFpQixNQUFNLEVBQ3hCLENBQUMsVUFBVyxLQUFLLEVBQ2pCLENBQUMsV0FBWSxJQUFJLEVBQ2pCLENBQUMsaUJBQWtCLE1BQU0sRUFDekIsQ0FBQyxPQUFRLE1BQU0sQ0FDakIsRUFDTXRELEVBQVVzRCxFQUFhLElBQUtDLEdBQU1BLEVBQUUsQ0FBQyxDQUFDLEVBRXRDdEQsRUFBT29ELEVBQUksSUFBS2xDLEdBQ2JtQyxFQUNKLElBQUksQ0FBQyxDQUFDRSxDQUFLLElBQU0sQ0Y3TVgsSUFBQVQsRUUrTUwsT0FBUVMsRUFBTyxDQUNiLElBQUssWUFDSCxRQUFPVCxFQUFBNUIsRUFBS3FDLENBQUssSUFBVixZQUFBVCxFQUFhLFFBQVEsUUFBUyxNQUFPLEdBQzlDLElBQUssY0FDSSxNQUFBLEdBQUc1QixFQUFLcUMsQ0FBSyxDQUFDLElBQ3ZCLElBQUssY0FDSSxPQUFBckMsRUFBSyxhQUFlQSxFQUFLLFNBQ2xDLFFBQ1MsT0FBQUEsRUFBS3FDLENBQUssR0FBSyxFQUFBLENBQzFCLENBQ0QsRUFDQSxJQUFLQyxHQUFNLElBQUksT0FBT0EsQ0FBQyxFQUFFLFFBQVEsS0FBTSxJQUFJLENBQUMsR0FBRyxFQUMvQyxLQUFLLEdBQUcsQ0FDWixFQUVNLE1BQUEsQ0FBQ3pELEVBQVEsS0FBSyxHQUFHLEVBQUcsR0FBR0MsQ0FBSSxFQUFFLEtBQUs7QUFBQSxDQUFJLENBQy9DLENBR0EsU0FBU3VCLEVBQWFrQyxFQUFPLEtBQUssTUFBTyxDQUN2QyxPQUFPLElBQUksS0FBS0EsQ0FBSSxFQUNqQixtQkFBbUIsUUFBUyxDQUMzQixTQUFVLGdCQUNWLEtBQU0sVUFDTixNQUFPLFVBQ1AsSUFBSyxTQUFBLENBQ04sRUFDQSxRQUFRLE1BQU8sR0FBRyxDQUN2QixDQU9BLFNBQVNaLEVBQWNqRCxFQUFLaUIsRUFBWSxDQTJIdEMsSUFBSTZDLEVBMUhRLENBQ1YsQ0FDRSxLQUFNLHdDQUNOLFFBQVMzQyxDQUNYLEVBQ0EsQ0FDRSxLQUFNLG1DQUNOLFFBQVNILENBQ1gsRUFDQSxDQUNFLEtBQU0sd0NBQ04sUUFBUytDLENBQ1gsRUFDQSxDQUNFLEtBQU0sNENBQ04sUUFBU0MsQ0FDWCxFQUNBLENBQ0UsS0FBTSxxRUFDTixRQUFTQSxDQUNYLEVBQ0EsQ0FDRSxLQUFNLDBGQUNOLFFBQVNBLENBQ1gsRUFDQSxDQUNFLEtBQU0saUdBQ04sUUFBU0EsQ0FDWCxFQUNBLENBQ0UsS0FBTSwwRkFDTixRQUFTQSxDQUNYLEVBQ0EsQ0FDRSxLQUFNLCtHQUNOLFFBQVNBLENBQ1gsRUFDQSxDQUNFLEtBQU0sd0dBQ04sUUFBU0EsQ0FDWCxFQUNBLENBQ0UsS0FBTSwrRUFDTixRQUFTQSxDQUNYLEVBQ0EsQ0FDRSxLQUFNLHFHQUNOLFFBQVNBLENBQ1gsRUFDQSxDQUNFLEtBQU0saUdBQ04sUUFBU0EsQ0FDWCxFQUNBLENBQ0UsS0FBTSxtR0FDTixRQUFTQSxDQUNYLEVBQ0EsQ0FDRSxLQUFNLG1HQUNOLFFBQVNBLENBQ1gsRUFDQSxDQUNFLEtBQU0sc0dBQ04sUUFBU0EsQ0FDWCxFQUNBLENBQ0UsS0FBTSx3R0FDTixRQUFTQSxDQUNYLEVBQ0EsQ0FDRSxLQUFNLHdHQUNOLFFBQVNBLENBQ1gsRUFDQSxDQUNFLEtBQU0sd0dBQ04sUUFBU0EsQ0FDWCxFQUNBLENBQ0UsS0FBTSw0R0FDTixRQUFTQSxDQUNYLEVBQ0EsQ0FDRSxLQUFNLHNHQUNOLFFBQVNBLENBQ1gsRUFDQSxDQUNFLEtBQU0sa0dBQ04sUUFBU0EsQ0FDWCxFQUNBLENBQ0UsS0FBTSx5R0FDTixRQUFTQSxDQUNYLEVBQ0EsQ0FDRSxLQUFNLCtHQUNOLFFBQVNBLENBQ1gsRUFDQSxDQUNFLEtBQU0sK0NBQ04sUUFBU0MsQ0FBQSxDQXNCYixFQUNxQixPQUFPLFNBQVVMLEVBQUcsQ0FDaEMsT0FBQUEsRUFBRSxLQUFLLEtBQUs1RCxDQUFHLENBQUEsQ0FDdkIsRUFDRyxHQUFBLENBQ084RCxFQUFBLENBQUMsRUFBRSxRQUFRN0MsQ0FBVSxRQUN2QmlELEVBQUcsQ0FDVkEsRUFBRSxTQUFTLENBQUEsQ0FFZixDQUdBLFNBQVNGLEVBQWMvQyxFQUFZLENGeFh0QixJQUFBaUMsRUV5WEwsTUFBQWlCLEVBQU9sRCxFQUFXLEtBQUssTUFDekIsR0FBQWtELEVBQUssUUFBVSxFQUNqQixPQUdGLE1BQU1DLElBQ0psQixFQUFBLFNBQVMsY0FBYywrQkFBK0IsSUFBdEQsWUFBQUEsRUFBeUQsUUFBUyxHQUU5RG1CLEVBQVd2QyxFQUFrQixTQUFTLElBQUksRUFBRSxTQUM1Q3dDLEVBQVV4QyxFQUFrQixTQUFTLElBQUksRUFBRSxRQUUzQ3lDLEVBQU9KLEVBQUssSUFBSzdDLEdBQVMsQ0FDOUIsS0FBTSxDQUFFLFdBQUFrRCxFQUFZLFVBQUFDLEVBQVcsMEJBQUFDLENBQThCLEVBQUFwRCxFQUU3RCxHQUFJa0QsRUFBWSxDQUNSLEtBQUEsQ0FDSixLQUFBaEQsRUFDQSxnQkFBQUMsRUFDQSxjQUFBa0QsRUFDQSxPQUFBcEQsRUFDQSxNQUFBcUQsRUFDQSxNQUFBQyxFQUNBLEtBQUFoRixFQUNBLE1BQUFpRixDQUFBLEVBQ0VOLEVBRUVPLEVBQWM5QyxFQUFjLENBQ2hDLE9BQVFWLEVBQ1IsT0FBUWlELEdBQUEsWUFBQUEsRUFBWSxPQUNwQixTQUFVM0UsQ0FBQSxDQUNYLEVBRU0sTUFBQSxDQUNMLFdBQVkyQixFQUNaLHFCQUFzQkMsRUFDdEIsZUFBZ0JrRCxFQUNoQixPQUFBcEQsRUFDQSxNQUFPcUQsRUFBUSxJQUNmLFNBQVUvRSxFQUNWLE1BQU84QixFQUFha0QsRUFBUSxHQUFJLEVBQ2hDLFFBQUFULEVBQ0EsS0FBTSxLQUNOLFlBQUFXLEVBQ0EsSUFBSyxHQUFHVCxDQUFPLElBQUlRLENBQUssR0FDeEIsU0FBQVQsQ0FDRixDQUFBLENBR0YsR0FBSUksRUFBVyxDQUNiLEtBQU0sQ0FBRSxPQUFBbEQsRUFBUSx3QkFBQXlELEVBQXlCLE1BQUFILENBQVUsRUFBQUosRUFFN0NNLEVBQWM5QyxFQUFjLENBQ2hDLE9BQVFWLEVBQ1IsT0FBUWtELEdBQUEsWUFBQUEsRUFBVyxPQUNuQixTQUFVQyxHQUFBLFlBQUFBLEVBQTJCLElBQUEsQ0FDdEMsRUFFTSxNQUFBLENBQ0wsV0FBWSxJQUNaLHFCQUFzQixJQUN0QixlQUFnQkEsRUFBMEIsY0FDMUMsT0FBQW5ELEVBQ0EsTUFBT3lELEVBQXdCLE1BQVEsSUFDdkMsU0FBVU4sRUFBMEIsS0FDcEMsTUFBTy9DLEVBQWFrRCxFQUFRLEdBQUksRUFDaEMsUUFBQVQsRUFDQSxLQUFNLFNBQ04sWUFBQVcsRUFDQSxJQUFLLEdBQUdULENBQU8sSUFBSUksRUFBMEIsS0FBSyxHQUNsRCxTQUFBTCxDQUNGLENBQUEsQ0FDRixDQUNELEVBQ0RZLEVBQWdCVixDQUFJLENBQ3RCLENBR0EsU0FBU04sRUFBZ0JoRCxFQUFZLENBQzdCLE1BQUFrRCxFQUFPbEQsRUFBVyxLQUFLLEtBQUssTUFDOUIsR0FBQWtELEVBQUssUUFBVSxFQUNqQixPQUdGLE1BQU1JLEVBQU9KLEVBQUssSUFBSSxDQUFDLENBQUUsS0FBQTdDLEtBQVcsQ0FFNUIsS0FBQSxDQUFFLFVBQUFtRCxFQUFXLDBCQUFBQyxDQUFBLEVBQThCcEQsRUFDM0NFLEVBQU9pRCxFQUFVLDZCQUE2QixtQkFDOUNoRCxFQUNKZ0QsRUFBVSw2QkFBNkIsc0JBQ25DRSxFQUFnQkYsRUFBVSxVQUFVLGNBQ3BDbEQsRUFBU2tELEVBQVUsd0JBQXdCLFFBQzNDRyxFQUFRSCxFQUFVLHdCQUF3QixNQUMxQ00sRUFBYzlDLEVBQWMsQ0FDaEMsT0FBUVYsRUFDUixPQUFRa0QsR0FBQSxZQUFBQSxFQUFXLE9BQ25CLFNBQVVDLEdBQUEsWUFBQUEsRUFBMkIsSUFBQSxDQUN0QyxFQUVNLE1BQUEsQ0FDTCxLQUFBbEQsRUFDQSxnQkFBQUMsRUFDQSxjQUFBa0QsRUFDQSxPQUFBcEQsRUFDQSxNQUFBcUQsRUFDQSxZQUFBRyxFQUNBLEtBQU0sU0FDUixDQUFBLENBQ0QsRUFDREUsRUFBZ0JWLENBQUksQ0FDdEIsQ0FHQSxTQUFTUixFQUFzQjlDLEVBQVksQ0FDdkJpRSxFQUFBakUsRUFBVyxLQUFLLEtBQUssS0FBSyxDQUM5QyxDQUVBLFNBQVNnRSxFQUFnQkUsRUFBUyxDQUMxQixNQUFBQyxFQUFhLGFBQWEsUUFBUXhELENBQWdCLEVBQ3hELElBQUl5RCxFQUFhLENBQUMsRUFDZEQsSUFDRkMsRUFBYSxLQUFLLE1BQU1ELENBQVUsR0FBSyxDQUFDLEdBRTFDQyxFQUFhLENBQUMsR0FBR0EsRUFBWSxHQUFHRixDQUFPLEVBRXZDLE1BQU1HLEVBQVUsSUFBSSxJQUFJRCxFQUFXLElBQUsvRCxHQUFTLENBQUNBLEVBQUssT0FBUUEsQ0FBSSxDQUFDLENBQUMsRUFDckUrRCxFQUFhLE1BQU0sS0FBS0MsRUFBUSxPQUFBLENBQVEsRUFDeEMsYUFBYSxRQUFRMUQsRUFBa0IsS0FBSyxVQUFVeUQsQ0FBVSxDQUFDLEVBQ2pFLE9BQU8sUUFBUSxZQUFZLENBQ3pCLEtBQU0saUJBQ04sUUFBUyxDQUNQLElBQUssbUJBQ0wsTUFBT0EsRUFBVyxNQUFBLENBQ3BCLENBQ0QsQ0FDSCxDQUdBLFNBQVNILEVBQWtCSyxFQUFVLENBQ25DLEdBQUksQ0FBQ0EsR0FBWUEsRUFBUyxTQUFXLEVBQ2pDLE9BRUosTUFBTUMsRUFBVyxJQUNYQyxFQUFXLEdBQ2IsSUFBQUMsTUFBcUIsSUFFbkIsTUFBQUMsRUFBUSxZQUFZLElBQU0sQ0FDVixTQUFTLGlCQUFpQixnQ0FBZ0MsRUFFbEUsUUFBUSxDQUFDQyxFQUFVQyxJQUFVLENBRS9CLE1BQUFDLEVBQVdQLEVBQVNNLENBQUssRUFHM0IsR0FGQSxDQUFDQyxHQUVESixFQUFlLElBQUlFLENBQVEsRUFBRyxPQUU1QixNQUFBRyxFQUFvQkgsRUFBUyxjQUFjLFlBQVksRUFFN0QsR0FBSUcsRUFBbUIsQ0FDbkIsS0FBTSxDQUFDLE1BQUFsQixFQUFPLEtBQUFyRCxFQUFNLGdCQUFBQyxFQUFpQixZQUFBdUUsQ0FBZSxFQUFBRixFQUM5Q0csRUFBWSxJQUFJLEtBQUtwQixFQUFRLEdBQUksRUFBRSxtQkFBbUIsRUFDdERxQixFQUFRRCxFQUFVLFdBQVcsTUFBTSxFQUVuQ0UsRUFBMEIsU0FBUyxjQUFjLEtBQUssRUFDNURBLEVBQXdCLE1BQU0sVUFBWSxNQUNsQkEsRUFBQSxNQUFNLE1BQVFELEVBQU0sTUFBTSxVQUNsREMsRUFBd0IsTUFBTSxTQUFXLE9BQ2pCQSxFQUFBLFVBQVUsSUFBSSxpQkFBaUIsRUFDbkRELElBQ0FDLEVBQXdCLE1BQU0sV0FBYSxPQUMzQ0EsRUFBd0IsTUFBTSxPQUFTLGlCQUczQ0EsRUFBd0IsVUFBWTtBQUFBLDZCQUNuQkYsQ0FBUztBQUFBLDZCQUNUekUsQ0FBSTtBQUFBLDZCQUNKQyxDQUFlO0FBQUEsNEJBQ2hCdUUsQ0FBVztBQUFBLGNBR1RELEVBQUEsV0FBVyxZQUFZSSxDQUF1QixFQUNoRVQsRUFBZSxJQUFJRSxDQUFRLENBQUEsQ0FDL0IsQ0FDRCxFQUdHRixFQUFlLE1BQVFELElBQ3ZCLGNBQWNFLENBQUssRUFDWCxRQUFBLElBQUksWUFBYUQsRUFBZSxJQUFJLElBRWpERixDQUFRLENBQ2IifQ==
