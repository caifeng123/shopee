document.addEventListener("DOMContentLoaded",()=>{document.getElementById("app").insertAdjacentHTML("beforebegin",`
  <div style="display: grid; place-items: center;">
    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; align-items: center;width: 100%;">
      <button id="clear">清空</button>
      <div style="text-align: center;">
        <div>知虾记录<span id="zhixiaCount">0</span>条</div>
        <div>shopee记录<span id="shopeeCount">0</span>条</div>
      </div>
      <button id="download_search">下载</button>
    </div>
    <div>-----------------------------------------------</div>
    <div>
      <button id="script">start</button>
    </div>
  </div>
`);const d=document.getElementById("clear"),a=document.getElementById("zhixiaCount"),n=document.getElementById("shopeeCount"),s=document.getElementById("download_search"),o=document.getElementById("script");chrome.runtime.onMessage.addListener((t,e,i)=>{t.type==="STORAGE_UPDATE"&&(payload.key==="zhixiaDataLength"&&(a.textContent=t.payload.value),payload.key==="shopeeDataLength"&&(n.textContent=t.payload.value))}),chrome.tabs.query({active:!0,currentWindow:!0},t=>{chrome.tabs.sendMessage(t[0].id,{type:"FROM_POPUP",payload:{action:"get_count",classes:"search_download"}},e=>{a.textContent=e.payload.zhixiaDataLength,n.textContent=e.payload.shopeeDataLength})}),d.addEventListener("click",()=>{chrome.tabs.query({active:!0,currentWindow:!0},t=>{chrome.tabs.sendMessage(t[0].id,{type:"FROM_POPUP",payload:{action:"clear",classes:"search_download"}},e=>{a.textContent=e.payload.zhixiaDataLength,n.textContent=e.payload.shopeeDataLength})})}),s.addEventListener("click",()=>{chrome.tabs.query({active:!0,currentWindow:!0},t=>{chrome.tabs.sendMessage(t[0].id,{type:"FROM_POPUP",payload:{action:"download_csv",classes:"search_download"}},e=>{a.textContent=e.payload.zhixiaDataLength,n.textContent=e.payload.shopeeDataLength})})}),o.addEventListener("click",()=>{chrome.tabs.query({active:!0,currentWindow:!0},t=>{chrome.tabs.sendMessage(t[0].id,{type:"FROM_POPUP",payload:{action:o.textContent,classes:"sale_script"}},e=>{o.textContent=o.textContent==="start"?"stop":"start"})})})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG9wdXAuanMiLCJzb3VyY2VzIjpbIi4uL2hhY2std29ya3NwYWNlL3NyYy9wb3B1cC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAdHMtbm9jaGVjayDov4Hnp7vkuK3vvIzlkI7nu63lho3miZPlvIBcbi8vIOWinuWKoCBET00g5Yqg6L295a6M5oiQ5qOA5rWLXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XG4gIC8vIOS9v+eUqCBpbnNlcnRBZGphY2VudEhUTUwg5ZyoIGFwcCDlhYPntKDliY3mj5LlhaVcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhcHBcIikuaW5zZXJ0QWRqYWNlbnRIVE1MKFxuICAgIFwiYmVmb3JlYmVnaW5cIixcbiAgICBgXG4gIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBncmlkOyBwbGFjZS1pdGVtczogY2VudGVyO1wiPlxuICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnIgMWZyOyBhbGlnbi1pdGVtczogY2VudGVyO3dpZHRoOiAxMDAlO1wiPlxuICAgICAgPGJ1dHRvbiBpZD1cImNsZWFyXCI+5riF56m6PC9idXR0b24+XG4gICAgICA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyO1wiPlxuICAgICAgICA8ZGl2PuefpeiZvuiusOW9lTxzcGFuIGlkPVwiemhpeGlhQ291bnRcIj4wPC9zcGFuPuadoTwvZGl2PlxuICAgICAgICA8ZGl2PnNob3BlZeiusOW9lTxzcGFuIGlkPVwic2hvcGVlQ291bnRcIj4wPC9zcGFuPuadoTwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8YnV0dG9uIGlkPVwiZG93bmxvYWRfc2VhcmNoXCI+5LiL6L29PC9idXR0b24+XG4gICAgPC9kaXY+XG4gICAgPGRpdj4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLTwvZGl2PlxuICAgIDxkaXY+XG4gICAgICA8YnV0dG9uIGlkPVwic2NyaXB0XCI+c3RhcnQ8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG5gXG4gICk7XG5cbiAgLy8gcG9wdXAuaHRtbCBoYWNrIOa3u+WKoOa4heepuuOAgeS4i+i9veaMiemSruOAgeafpeeci+aVsOaNruS/oeaBr1xuICBjb25zdCBjbGVhckJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2xlYXJcIik7XG4gIGNvbnN0IHpoaXhpYUNvdW50U3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiemhpeGlhQ291bnRcIik7XG4gIGNvbnN0IHNob3BlZUNvdW50U3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hvcGVlQ291bnRcIik7XG4gIGNvbnN0IGRvd25sb2FkU2VhcmNoQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkb3dubG9hZF9zZWFyY2hcIik7XG4gIGNvbnN0IHNjcmlwdEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2NyaXB0XCIpO1xuXG4gIC8vIOefpeiZvuaVsOaNruWunuaXtuabtOaWsOebkeWQrFxuICBjaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoKHJlcXVlc3QsIHNlbmRlciwgc2VuZFJlc3BvbnNlKSA9PiB7XG4gICAgaWYgKHJlcXVlc3QudHlwZSA9PT0gXCJTVE9SQUdFX1VQREFURVwiKSB7XG4gICAgICBpZiAocGF5bG9hZC5rZXkgPT09ICd6aGl4aWFEYXRhTGVuZ3RoJykge1xuICAgICAgICB6aGl4aWFDb3VudFNwYW4udGV4dENvbnRlbnQgPSByZXF1ZXN0LnBheWxvYWQudmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAocGF5bG9hZC5rZXkgPT09ICdzaG9wZWVEYXRhTGVuZ3RoJykge1xuICAgICAgICBzaG9wZWVDb3VudFNwYW4udGV4dENvbnRlbnQgPSByZXF1ZXN0LnBheWxvYWQudmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBjaHJvbWUudGFicy5xdWVyeSh7IGFjdGl2ZTogdHJ1ZSwgY3VycmVudFdpbmRvdzogdHJ1ZSB9LCAodGFicykgPT4ge1xuICAgIGNocm9tZS50YWJzLnNlbmRNZXNzYWdlKFxuICAgICAgdGFic1swXS5pZCxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJGUk9NX1BPUFVQXCIsXG4gICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICBhY3Rpb246IFwiZ2V0X2NvdW50XCIsXG4gICAgICAgICAgY2xhc3NlczogXCJzZWFyY2hfZG93bmxvYWRcIlxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIChyZXNwb25zZSkgPT4ge1xuICAgICAgICAvLyDmm7TmlrDorqHmlbDmmL7npLpcbiAgICAgICAgemhpeGlhQ291bnRTcGFuLnRleHRDb250ZW50ID0gcmVzcG9uc2UucGF5bG9hZC56aGl4aWFEYXRhTGVuZ3RoO1xuICAgICAgICBzaG9wZWVDb3VudFNwYW4udGV4dENvbnRlbnQgPSByZXNwb25zZS5wYXlsb2FkLnNob3BlZURhdGFMZW5ndGg7XG4gICAgICB9XG4gICAgKTtcbiAgfSk7XG5cbiAgLy8g5riF56m65oyJ6ZKu54K55Ye75LqL5Lu2XG4gIGNsZWFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgY2hyb21lLnRhYnMucXVlcnkoeyBhY3RpdmU6IHRydWUsIGN1cnJlbnRXaW5kb3c6IHRydWUgfSwgKHRhYnMpID0+IHtcbiAgICAgIGNocm9tZS50YWJzLnNlbmRNZXNzYWdlKFxuICAgICAgICB0YWJzWzBdLmlkLFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogXCJGUk9NX1BPUFVQXCIsXG4gICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgYWN0aW9uOiBcImNsZWFyXCIsXG4gICAgICAgICAgICBjbGFzc2VzOiBcInNlYXJjaF9kb3dubG9hZFwiXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgLy8g5pu05paw6K6h5pWw5pi+56S6XG4gICAgICAgICAgemhpeGlhQ291bnRTcGFuLnRleHRDb250ZW50ID0gcmVzcG9uc2UucGF5bG9hZC56aGl4aWFEYXRhTGVuZ3RoO1xuICAgICAgICAgIHNob3BlZUNvdW50U3Bhbi50ZXh0Q29udGVudCA9IHJlc3BvbnNlLnBheWxvYWQuc2hvcGVlRGF0YUxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8g5LiL6L295oyJ6ZKu54K55Ye75LqL5Lu2XG4gIGRvd25sb2FkU2VhcmNoQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgLy8gcG9wdXAuanMg5Y+R6YCB5raI5oGv5YiwIGNvbnRlbnQgc2NyaXB0XG4gICAgY2hyb21lLnRhYnMucXVlcnkoeyBhY3RpdmU6IHRydWUsIGN1cnJlbnRXaW5kb3c6IHRydWUgfSwgKHRhYnMpID0+IHtcbiAgICAgIGNocm9tZS50YWJzLnNlbmRNZXNzYWdlKFxuICAgICAgICB0YWJzWzBdLmlkLFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogXCJGUk9NX1BPUFVQXCIsXG4gICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgYWN0aW9uOiBcImRvd25sb2FkX2NzdlwiLFxuICAgICAgICAgICAgY2xhc3NlczogXCJzZWFyY2hfZG93bmxvYWRcIlxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIC8vIOabtOaWsOiuoeaVsOaYvuekulxuICAgICAgICAgIHpoaXhpYUNvdW50U3Bhbi50ZXh0Q29udGVudCA9IHJlc3BvbnNlLnBheWxvYWQuemhpeGlhRGF0YUxlbmd0aDtcbiAgICAgICAgICBzaG9wZWVDb3VudFNwYW4udGV4dENvbnRlbnQgPSByZXNwb25zZS5wYXlsb2FkLnNob3BlZURhdGFMZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIOiEmuacrOaMiemSrueCueWHu+S6i+S7tlxuICBzY3JpcHRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAvLyBwb3B1cC5qcyDlj5HpgIHmtojmga/liLAgY29udGVudCBzY3JpcHRcbiAgICBjaHJvbWUudGFicy5xdWVyeSh7IGFjdGl2ZTogdHJ1ZSwgY3VycmVudFdpbmRvdzogdHJ1ZSB9LCAodGFicykgPT4ge1xuICAgICAgY2hyb21lLnRhYnMuc2VuZE1lc3NhZ2UoXG4gICAgICAgIHRhYnNbMF0uaWQsXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBcIkZST01fUE9QVVBcIixcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBhY3Rpb246IHNjcmlwdEJ1dHRvbi50ZXh0Q29udGVudCxcbiAgICAgICAgICAgIGNsYXNzZXM6IFwic2FsZV9zY3JpcHRcIlxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHNjcmlwdEJ1dHRvbi50ZXh0Q29udGVudCA9IHNjcmlwdEJ1dHRvbi50ZXh0Q29udGVudCA9PT0gXCJzdGFydFwiID8gXCJzdG9wXCIgOiBcInN0YXJ0XCI7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm5hbWVzIjpbImNsZWFyQnV0dG9uIiwiemhpeGlhQ291bnRTcGFuIiwic2hvcGVlQ291bnRTcGFuIiwiZG93bmxvYWRTZWFyY2hCdXR0b24iLCJzY3JpcHRCdXR0b24iLCJyZXF1ZXN0Iiwic2VuZGVyIiwic2VuZFJlc3BvbnNlIiwidGFicyIsInJlc3BvbnNlIl0sIm1hcHBpbmdzIjoiQUFFQSxTQUFTLGlCQUFpQixtQkFBb0IsSUFBTSxDQUV6QyxTQUFBLGVBQWUsS0FBSyxFQUFFLG1CQUM3QixjQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLENBZ0JGLEVBR00sTUFBQUEsRUFBYyxTQUFTLGVBQWUsT0FBTyxFQUM3Q0MsRUFBa0IsU0FBUyxlQUFlLGFBQWEsRUFDdkRDLEVBQWtCLFNBQVMsZUFBZSxhQUFhLEVBQ3ZEQyxFQUF1QixTQUFTLGVBQWUsaUJBQWlCLEVBQ2hFQyxFQUFlLFNBQVMsZUFBZSxRQUFRLEVBR3JELE9BQU8sUUFBUSxVQUFVLFlBQVksQ0FBQ0MsRUFBU0MsRUFBUUMsSUFBaUIsQ0FDbEVGLEVBQVEsT0FBUyxtQkFDZixRQUFRLE1BQVEscUJBQ0ZKLEVBQUEsWUFBY0ksRUFBUSxRQUFRLE9BRTVDLFFBQVEsTUFBUSxxQkFDRkgsRUFBQSxZQUFjRyxFQUFRLFFBQVEsT0FFbEQsQ0FDRCxFQUVNLE9BQUEsS0FBSyxNQUFNLENBQUUsT0FBUSxHQUFNLGNBQWUsSUFBU0csR0FBUyxDQUNqRSxPQUFPLEtBQUssWUFDVkEsRUFBSyxDQUFDLEVBQUUsR0FDUixDQUNFLEtBQU0sYUFDTixRQUFTLENBQ1AsT0FBUSxZQUNSLFFBQVMsaUJBQUEsQ0FFYixFQUNDQyxHQUFhLENBRUlSLEVBQUEsWUFBY1EsRUFBUyxRQUFRLGlCQUMvQlAsRUFBQSxZQUFjTyxFQUFTLFFBQVEsZ0JBQUEsQ0FFbkQsQ0FBQSxDQUNELEVBR1dULEVBQUEsaUJBQWlCLFFBQVMsSUFBTSxDQUNuQyxPQUFBLEtBQUssTUFBTSxDQUFFLE9BQVEsR0FBTSxjQUFlLElBQVNRLEdBQVMsQ0FDakUsT0FBTyxLQUFLLFlBQ1ZBLEVBQUssQ0FBQyxFQUFFLEdBQ1IsQ0FDRSxLQUFNLGFBQ04sUUFBUyxDQUNQLE9BQVEsUUFDUixRQUFTLGlCQUFBLENBRWIsRUFDQ0MsR0FBYSxDQUVJUixFQUFBLFlBQWNRLEVBQVMsUUFBUSxpQkFDL0JQLEVBQUEsWUFBY08sRUFBUyxRQUFRLGdCQUFBLENBRW5ELENBQUEsQ0FDRCxDQUFBLENBQ0YsRUFHb0JOLEVBQUEsaUJBQWlCLFFBQVMsSUFBTSxDQUU1QyxPQUFBLEtBQUssTUFBTSxDQUFFLE9BQVEsR0FBTSxjQUFlLElBQVNLLEdBQVMsQ0FDakUsT0FBTyxLQUFLLFlBQ1ZBLEVBQUssQ0FBQyxFQUFFLEdBQ1IsQ0FDRSxLQUFNLGFBQ04sUUFBUyxDQUNQLE9BQVEsZUFDUixRQUFTLGlCQUFBLENBRWIsRUFDQ0MsR0FBYSxDQUVJUixFQUFBLFlBQWNRLEVBQVMsUUFBUSxpQkFDL0JQLEVBQUEsWUFBY08sRUFBUyxRQUFRLGdCQUFBLENBRW5ELENBQUEsQ0FDRCxDQUFBLENBQ0YsRUFHWUwsRUFBQSxpQkFBaUIsUUFBUyxJQUFNLENBRXBDLE9BQUEsS0FBSyxNQUFNLENBQUUsT0FBUSxHQUFNLGNBQWUsSUFBU0ksR0FBUyxDQUNqRSxPQUFPLEtBQUssWUFDVkEsRUFBSyxDQUFDLEVBQUUsR0FDUixDQUNFLEtBQU0sYUFDTixRQUFTLENBQ1AsT0FBUUosRUFBYSxZQUNyQixRQUFTLGFBQUEsQ0FFYixFQUNDSyxHQUFhLENBQ1pMLEVBQWEsWUFBY0EsRUFBYSxjQUFnQixRQUFVLE9BQVMsT0FBQSxDQUUvRSxDQUFBLENBQ0QsQ0FBQSxDQUNGLENBQ0gsQ0FBQyJ9
